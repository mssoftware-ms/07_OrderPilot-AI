{
  "version": "2.0",
  "meta": {
    "stage": "regime_config",
    "created_at": "2026-01-24T14:35:00Z",
    "name": "BTCUSDT_5m_Regime_Config",
    "optimization_score": 78.5,
    "selected_rank": 1,
    "source_file": "regime_optimization_results_BTCUSDT_5m.json",
    "source": {
      "symbol": "BTCUSDT",
      "timeframe": "5m",
      "bars": 401,
      "data_range": {
        "start": "2026-01-22T12:10:00Z",
        "end": "2026-01-23T21:30:00Z"
      }
    },
    "metrics": {
      "f1_bull": 0.82,
      "f1_bear": 0.79,
      "f1_sideways": 0.71,
      "stability_score": 0.73,
      "bull_bars": 180,
      "bear_bars": 101,
      "sideways_bars": 120,
      "bull_percentage": 44.9,
      "bear_percentage": 25.2,
      "sideways_percentage": 29.9
    },
    "optimized_params": {
      "adx_period": 14,
      "adx_threshold": 25,
      "sma_fast_period": 50,
      "sma_slow_period": 200,
      "rsi_period": 14,
      "rsi_sideways_low": 40,
      "rsi_sideways_high": 60,
      "bb_period": 20,
      "bb_std_dev": 2.0,
      "bb_width_percentile": 0.20
    },
    "classification_logic": {
      "bull": "ADX > threshold AND Close > SMA_Fast AND SMA_Fast > SMA_Slow",
      "bear": "ADX > threshold AND Close < SMA_Fast AND SMA_Fast < SMA_Slow",
      "sideways": "ADX < threshold AND BB_Width < percentile AND RSI between low-high"
    }
  },
  "indicators": [
    {
      "type": "Indicator",
      "id": "adx14",
      "name": "ADX",
      "purpose": "trend_strength",
      "params": { "period": 14 }
    },
    {
      "type": "Indicator",
      "id": "sma50",
      "name": "SMA",
      "purpose": "trend_direction_fast",
      "params": { "period": 50 }
    },
    {
      "type": "Indicator",
      "id": "sma200",
      "name": "SMA",
      "purpose": "trend_direction_slow",
      "params": { "period": 200 }
    },
    {
      "type": "Indicator",
      "id": "rsi14",
      "name": "RSI",
      "purpose": "sideways_momentum",
      "params": { "period": 14 }
    },
    {
      "type": "Indicator",
      "id": "bb20",
      "name": "BB",
      "purpose": "sideways_volatility",
      "params": { "period": 20, "std_dev": 2.0 }
    }
  ],
  "regimes": [
    {
      "type": "Regime",
      "id": "bull",
      "name": "BULL",
      "priority": 90,
      "color": "#26a69a",
      "bar_count": 180,
      "conditions": {
        "all": [
          {
            "left": { "indicator_id": "adx14", "field": "value" },
            "op": "gt",
            "right": { "value": 25 }
          },
          {
            "left": { "indicator_id": "close", "field": "value" },
            "op": "gt",
            "right": { "indicator_id": "sma50", "field": "value" }
          },
          {
            "left": { "indicator_id": "sma50", "field": "value" },
            "op": "gt",
            "right": { "indicator_id": "sma200", "field": "value" }
          }
        ]
      }
    },
    {
      "type": "Regime",
      "id": "bear",
      "name": "BEAR",
      "priority": 90,
      "color": "#ef5350",
      "bar_count": 101,
      "conditions": {
        "all": [
          {
            "left": { "indicator_id": "adx14", "field": "value" },
            "op": "gt",
            "right": { "value": 25 }
          },
          {
            "left": { "indicator_id": "close", "field": "value" },
            "op": "lt",
            "right": { "indicator_id": "sma50", "field": "value" }
          },
          {
            "left": { "indicator_id": "sma50", "field": "value" },
            "op": "lt",
            "right": { "indicator_id": "sma200", "field": "value" }
          }
        ]
      }
    },
    {
      "type": "Regime",
      "id": "sideways",
      "name": "SIDEWAYS",
      "priority": 10,
      "color": "#9e9e9e",
      "bar_count": 120,
      "conditions": {
        "all": [
          {
            "left": { "indicator_id": "adx14", "field": "value" },
            "op": "lt",
            "right": { "value": 25 }
          },
          {
            "left": { "indicator_id": "bb20", "field": "width" },
            "op": "lt",
            "right": { "value": 0.20 }
          },
          {
            "left": { "indicator_id": "rsi14", "field": "value" },
            "op": "between",
            "right": { "min": 40, "max": 60 }
          }
        ]
      }
    }
  ],
  "regime_periods": [
    { "regime": "SIDEWAYS", "start_idx": 0, "end_idx": 24, "bars": 25 },
    { "regime": "BULL", "start_idx": 25, "end_idx": 89, "bars": 65 },
    { "regime": "SIDEWAYS", "start_idx": 90, "end_idx": 112, "bars": 23 },
    { "regime": "BEAR", "start_idx": 113, "end_idx": 168, "bars": 56 },
    { "regime": "SIDEWAYS", "start_idx": 169, "end_idx": 195, "bars": 27 },
    { "regime": "BULL", "start_idx": 196, "end_idx": 278, "bars": 83 },
    { "regime": "BEAR", "start_idx": 279, "end_idx": 323, "bars": 45 },
    { "regime": "SIDEWAYS", "start_idx": 324, "end_idx": 368, "bars": 45 },
    { "regime": "BULL", "start_idx": 369, "end_idx": 400, "bars": 32 }
  ]
}
