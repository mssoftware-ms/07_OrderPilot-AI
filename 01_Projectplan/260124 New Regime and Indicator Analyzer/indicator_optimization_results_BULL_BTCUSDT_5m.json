{
  "version": "2.0",
  "meta": {
    "stage": "indicator_optimization",
    "regime": "BULL",
    "created_at": "2026-01-24T15:00:00Z",
    "optimization_id": "ind_opt_BULL_BTCUSDT_5m_20260124",
    "regime_config_ref": "optimized_regime_BTCUSDT_5m.json",
    "regime_data": {
      "total_bars": 180,
      "percentage_of_data": 44.9,
      "periods_count": 3
    },
    "source": {
      "symbol": "BTCUSDT",
      "timeframe": "5m"
    },
    "method": "grid_search",
    "mode": "auto",
    "tested_indicators": ["RSI", "MACD", "STOCH", "BB", "EMA"],
    "combinations_per_signal": {
      "entry_long": 1250,
      "entry_short": 1250,
      "exit_long": 1250,
      "exit_short": 1250
    },
    "duration_seconds": 85.3
  },
  "param_ranges": {
    "RSI": {
      "period": { "min": 7, "max": 21, "step": 2 },
      "threshold_low": { "min": 20, "max": 40, "step": 5 },
      "threshold_high": { "min": 60, "max": 80, "step": 5 }
    },
    "MACD": {
      "fast": { "min": 8, "max": 16, "step": 2 },
      "slow": { "min": 20, "max": 30, "step": 2 },
      "signal": { "min": 5, "max": 12, "step": 1 }
    },
    "STOCH": {
      "k_period": { "min": 5, "max": 21, "step": 2 },
      "d_period": { "min": 3, "max": 9, "step": 1 }
    },
    "BB": {
      "period": { "min": 10, "max": 30, "step": 5 },
      "std_dev": { "min": 1.5, "max": 3.0, "step": 0.5 }
    },
    "EMA": {
      "period": { "min": 10, "max": 50, "step": 5 }
    }
  },
  "results": {
    "entry_long": {
      "total_tested": 1250,
      "statistics": {
        "score_min": 18.5,
        "score_max": 82.3,
        "score_avg": 48.7
      },
      "ranked_results": [
        {
          "rank": 1,
          "score": 82.3,
          "selected": true,
          "indicator": "RSI",
          "indicator_id": "rsi_9",
          "params": { "period": 9 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "rsi_9", "field": "value" }, "op": "crosses_above", "right": { "value": 50 } }
            ]
          },
          "metrics": {
            "signals": 28,
            "trades": 12,
            "win_rate": 0.75,
            "profit_factor": 2.4,
            "avg_win": 1.8,
            "avg_loss": 0.6,
            "max_drawdown": 3.2,
            "sharpe_ratio": 1.65,
            "expectancy": 1.2,
            "avg_bars_in_trade": 8.5
          },
          "timestamp": "2026-01-24T14:58:12Z"
        },
        {
          "rank": 2,
          "score": 79.1,
          "selected": false,
          "indicator": "MACD",
          "indicator_id": "macd_8_17_9",
          "params": { "fast": 8, "slow": 17, "signal": 9 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "macd_8_17_9", "field": "histogram" }, "op": "crosses_above", "right": { "value": 0 } }
            ]
          },
          "metrics": {
            "signals": 22,
            "trades": 10,
            "win_rate": 0.70,
            "profit_factor": 2.1,
            "avg_win": 1.6,
            "avg_loss": 0.65,
            "max_drawdown": 3.8,
            "sharpe_ratio": 1.45,
            "expectancy": 1.0,
            "avg_bars_in_trade": 10.2
          },
          "timestamp": "2026-01-24T14:58:15Z"
        },
        {
          "rank": 3,
          "score": 75.8,
          "selected": false,
          "indicator": "STOCH",
          "indicator_id": "stoch_14_3",
          "params": { "k_period": 14, "d_period": 3 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "stoch_14_3", "field": "k" }, "op": "crosses_above", "right": { "indicator_id": "stoch_14_3", "field": "d" } },
              { "left": { "indicator_id": "stoch_14_3", "field": "k" }, "op": "lt", "right": { "value": 30 } }
            ]
          },
          "metrics": {
            "signals": 18,
            "trades": 8,
            "win_rate": 0.625,
            "profit_factor": 1.85,
            "avg_win": 1.4,
            "avg_loss": 0.7,
            "max_drawdown": 4.1,
            "sharpe_ratio": 1.25,
            "expectancy": 0.75,
            "avg_bars_in_trade": 7.8
          },
          "timestamp": "2026-01-24T14:58:18Z"
        }
      ]
    },
    "entry_short": {
      "total_tested": 1250,
      "statistics": {
        "score_min": 5.2,
        "score_max": 35.8,
        "score_avg": 18.3
      },
      "ranked_results": [
        {
          "rank": 1,
          "score": 35.8,
          "selected": false,
          "indicator": "RSI",
          "indicator_id": "rsi_14",
          "params": { "period": 14 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "rsi_14", "field": "value" }, "op": "gt", "right": { "value": 80 } }
            ]
          },
          "metrics": {
            "signals": 8,
            "trades": 3,
            "win_rate": 0.33,
            "profit_factor": 0.85,
            "avg_win": 0.8,
            "avg_loss": 1.2,
            "max_drawdown": 5.5,
            "sharpe_ratio": -0.25,
            "expectancy": -0.15,
            "avg_bars_in_trade": 12.5
          },
          "timestamp": "2026-01-24T14:58:45Z"
        }
      ]
    },
    "exit_long": {
      "total_tested": 1250,
      "statistics": {
        "score_min": 22.1,
        "score_max": 78.5,
        "score_avg": 52.3
      },
      "ranked_results": [
        {
          "rank": 1,
          "score": 78.5,
          "selected": true,
          "indicator": "RSI",
          "indicator_id": "rsi_9",
          "params": { "period": 9 },
          "conditions": {
            "any": [
              { "left": { "indicator_id": "rsi_9", "field": "value" }, "op": "gt", "right": { "value": 80 } },
              { "left": { "indicator_id": "rsi_9", "field": "value" }, "op": "crosses_below", "right": { "value": 70 } }
            ]
          },
          "metrics": {
            "signals": 35,
            "trades": 12,
            "win_rate": 0.75,
            "profit_factor": 2.4,
            "avg_win": 1.8,
            "avg_loss": 0.6,
            "max_drawdown": 3.2,
            "sharpe_ratio": 1.65,
            "expectancy": 1.2,
            "avg_bars_in_trade": 8.5
          },
          "timestamp": "2026-01-24T14:59:12Z"
        },
        {
          "rank": 2,
          "score": 74.2,
          "selected": false,
          "indicator": "BB",
          "indicator_id": "bb_20_2",
          "params": { "period": 20, "std_dev": 2.0 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "bb_20_2", "field": "close" }, "op": "gt", "right": { "indicator_id": "bb_20_2", "field": "upper" } }
            ]
          },
          "metrics": {
            "signals": 28,
            "trades": 11,
            "win_rate": 0.72,
            "profit_factor": 2.2,
            "avg_win": 1.7,
            "avg_loss": 0.65,
            "max_drawdown": 3.5,
            "sharpe_ratio": 1.52,
            "expectancy": 1.05,
            "avg_bars_in_trade": 9.2
          },
          "timestamp": "2026-01-24T14:59:15Z"
        }
      ]
    },
    "exit_short": {
      "total_tested": 1250,
      "statistics": {
        "score_min": 8.3,
        "score_max": 32.1,
        "score_avg": 19.8
      },
      "ranked_results": [
        {
          "rank": 1,
          "score": 32.1,
          "selected": false,
          "indicator": "RSI",
          "indicator_id": "rsi_14",
          "params": { "period": 14 },
          "conditions": {
            "all": [
              { "left": { "indicator_id": "rsi_14", "field": "value" }, "op": "lt", "right": { "value": 75 } }
            ]
          },
          "metrics": {
            "signals": 12,
            "trades": 3,
            "win_rate": 0.33,
            "profit_factor": 0.82,
            "avg_win": 0.75,
            "avg_loss": 1.1,
            "max_drawdown": 4.8,
            "sharpe_ratio": -0.18,
            "expectancy": -0.12,
            "avg_bars_in_trade": 11.8
          },
          "timestamp": "2026-01-24T14:59:45Z"
        }
      ]
    }
  }
}
