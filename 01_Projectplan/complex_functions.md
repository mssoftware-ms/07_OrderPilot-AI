# Complex Functions Checklist

Schwelle: CC>20 oder Nesting>6 oder LOC>100

| Done | Funktion | Datei | CC | Nesting | LOC |
|------|----------|-------|----|---------|-----|
| [x] | `BotCallbacksSignalMixin._on_bot_decision()` | `src/ui/widgets/chart_window_mixins/bot_callbacks_signal_mixin.py:254` | 56 | 10 | 173 |
| [x] | `BotPanelsMixin._on_tick_price_updated()` | `src/ui/widgets/chart_window_mixins/bot_panels_mixin.py:150` | 53 | 6 | 149 |
| [x] | `BotDisplayPositionMixin._update_bot_display()` | `src/ui/widgets/chart_window_mixins/bot_display_position_mixin.py:14` | 48 | 5 | 181 |
| [x] | `BotCallbacksSignalMixin._on_bot_signal()` | `src/ui/widgets/chart_window_mixins/bot_callbacks_signal_mixin.py:12` | 47 | 6 | 242 |
| [x] | `BotDisplaySignalsMixin._update_signals_table()` | `src/ui/widgets/chart_window_mixins/bot_display_signals_mixin.py:123` | 46 | 5 | 222 |
| [x] | `BotDisplayPositionMixin._render_current_position_from_signal()` | `src/ui/widgets/chart_window_mixins/bot_display_position_mixin.py:281` | 36 | 3 | 75 |
| [x] | `BotDisplayPositionMixin._update_daily_strategy_panel()` | `src/ui/widgets/chart_window_mixins/bot_display_position_mixin.py:195` | 35 | 4 | 86 |
| [x] | `BotSignalLogicMixin._calculate_entry_score()` | `src/core/tradingbot/bot_signal_logic.py:34` | 31 | 4 | 90 |
| [x] | `BotPositionPersistenceRestoreMixin._restore_persisted_position()` | `src/ui/widgets/chart_window_mixins/bot_position_persistence_restore_mixin.py:22` | 29 | 4 | 115 |
| [x] | `BotEventHandlersMixin._load_bot_settings()` | `src/ui/widgets/chart_window_mixins/bot_event_handlers.py:205` | 29 | 3 | 102 |
| [x] | `BotCallbacksLogOrderMixin._on_bot_order()` | `src/ui/widgets/chart_window_mixins/bot_callbacks_log_order_mixin.py:15` | 28 | 6 | 85 |
| [x] | `SimulationWorker.run()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_worker.py:61` | 27 | 6 | 127 |
| [x] | `ExecutionEngine._execute_task()` | `src/core/execution/engine.py:274` | 27 | 4 | 136 |
| [x] | `IndicatorMixin._update_indicators_realtime()` | `src/ui/widgets/chart_mixins/indicator_mixin.py:372` | 26 | 8 | 132 |
| [x] | `DataLoadingMixin.load_symbol()` | `src/ui/widgets/chart_mixins/data_loading_mixin.py:194` | 26 | 6 | 207 |
| [x] | `StrategySimulatorResultsMixin._add_result_to_table()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_results_mixin.py:40` | 25 | 5 | 90 |
| [x] | `ChartWindow.closeEvent()` | `src/ui/widgets/chart_window.py:304` | 25 | 4 | 132 |
| [x] | `BotPositionPersistencePnlMixin._update_restored_positions_pnl()` | `src/ui/widgets/chart_window_mixins/bot_position_persistence_pnl_mixin.py:18` | 25 | 4 | 73 |
| [x] | `BotDisplayPositionMixin._update_position_right_column()` | `src/ui/widgets/chart_window_mixins/bot_display_position_mixin.py:412` | 25 | 4 | 67 |
| [x] | `StreamingMixin._on_market_tick()` | `src/ui/widgets/chart_mixins/streaming_mixin.py:76` | 25 | 3 | 150 |
| [x] | `PatternDbBuildMixin._start_build()` | `src/ui/dialogs/pattern_db_build_mixin.py:64` | 25 | 3 | 83 |
| [x] | `IndicatorMixin._update_indicators()` | `src/ui/widgets/chart_mixins/indicator_mixin.py:269` | 24 | 6 | 102 |
| [x] | `BayesianOptimizer.optimize()` | `src/core/simulator/optimization_bayesian.py:78` | 24 | 5 | 186 |
| [x] | `StrategySimulatorResultsMixin._add_trial_to_table()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_results_mixin.py:130` | 24 | 5 | 102 |
| [x] | `BotStateHandlersMixin._process_flat()` | `src/core/tradingbot/bot_state_handlers.py:164` | 24 | 4 | 106 |
| [x] | `StrategySimulatorResultsMixin._update_entry_points_from_selection()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_results_mixin.py:256` | 24 | 3 | 69 |
| [x] | `RegimeEngine._classify_regime()` | `src/core/tradingbot/regime_engine.py:116` | 23 | 6 | 72 |
| [x] | `AppLifecycleMixin.closeEvent()` | `src/ui/app_components/app_lifecycle_mixin.py:71` | 23 | 5 | 77 |
| [x] | `KOFinderMixin._get_current_price()` | `src/ui/widgets/chart_window_mixins/ko_finder_mixin.py:247` | 23 | 5 | 39 |
| [x] | `HistoryManager.fetch_data()` | `src/core/market_data/history_provider.py:159` | 22 | 4 | 115 |
| [x] | `FeatureEngine._extract_feature_values()` | `src/core/tradingbot/feature_engine.py:279` | 22 | 4 | 99 |
| [x] | `BotDisplayPositionMixin._update_position_right_column_from_signal()` | `src/ui/widgets/chart_window_mixins/bot_display_position_mixin.py:356` | 22 | 3 | 56 |
| [x] | `BotStateHandlersMixin._check_exit_signals()` | `src/core/tradingbot/bot_state_handlers.py:520` | 21 | 4 | 49 |
| [x] | `StrategySimulatorRunMixin._handle_simulation_result()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_run_mixin.py:175` | 20 | 5 | 103 |
| [x] | `GeminiService.structured_completion()` | `src/ai/gemini_service.py:124` | 20 | 4 | 174 |
| [x] | `YahooFinanceProvider.fetch_bars()` | `src/core/market_data/providers/yahoo_provider.py:36` | 20 | 4 | 133 |
| [x] | `StrategySimulatorRunMixin._on_run_simulation()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_run_mixin.py:12` | 20 | 3 | 106 |
| [x] | `BotDerivativeMixin._on_derivative_fetched()` | `src/ui/widgets/chart_window_mixins/bot_derivative_mixin.py:80` | 20 | 2 | 128 |
| [x] | `AnthropicService.structured_completion()` | `src/ai/anthropic_service.py:125` | 17 | 4 | 146 |
| [x] | `GridSearchOptimizer.optimize()` | `src/core/simulator/optimization_bayesian.py:312` | 17 | 4 | 137 |
| [x] | `PatternExtractor._create_pattern()` | `src/core/pattern_db/extractor.py:138` | 17 | 4 | 120 |
| [x] | `OpenAIServiceClientMixin.structured_completion()` | `src/ai/openai_service_client_mixin.py:89` | 17 | 3 | 158 |
| [x] | `SettingsDialog.load_current_settings()` | `src/ui/dialogs/settings_dialog.py:70` | 17 | 1 | 154 |
| [x] | `ConditionEvaluator._evaluate_condition()` | `src/core/strategy/compiler.py:246` | 16 | 9 | 55 |
| [x] | `EntryScorer._evaluate_entry_rule()` | `src/core/tradingbot/entry_scorer.py:194` | 16 | 8 | 44 |
| [x] | `DatabaseBuildWorker._build_async()` | `src/ui/dialogs/pattern_db_worker.py:52` | 16 | 6 | 106 |
| [x] | `KOFinderService._fetch_and_process()` | `src/derivatives/ko_finder/service.py:161` | 16 | 4 | 158 |
| [x] | `PatternEmbedder._extract_features()` | `src/core/pattern_db/embedder.py:84` | 16 | 2 | 109 |
| [x] | `ConfigManager.get_credential()` | `src/config/loader.py:142` | 15 | 8 | 51 |
| [x] | `AlpacaAdapter._place_order_impl()` | `src/core/broker/alpaca_adapter.py:166` | 15 | 5 | 117 |
| [x] | `StrategySimulator._calculate_result()` | `src/core/simulator/simulation_engine.py:299` | 15 | 2 | 129 |
| [x] | `ChartContextBuilder._extract_indicators()` | `src/chart_chat/context_builder.py:230` | 14 | 8 | 53 |
| [x] | `MeanReversionStrategy.evaluate()` | `src/core/strategy/strategies/mean_reversion.py:19` | 14 | 3 | 106 |
| [x] | `StrategyEvaluator.run_walk_forward()` | `src/core/tradingbot/strategy_evaluator.py:266` | 13 | 3 | 112 |
| [x] | `TrendFollowingStrategy.evaluate()` | `src/core/strategy/strategies/trend_following.py:20` | 13 | 3 | 108 |
| [x] | `DataLoadingMixin.load_data()` | `src/ui/widgets/chart_mixins/data_loading_mixin.py:91` | 13 | 3 | 102 |
| [x] | `ConditionEvaluator._apply_comparison_operator()` | `src/core/strategy/evaluation.py:71` | 11 | 9 | 31 |
| [x] | `StrategySignalGenerator.generate()` | `src/core/simulator/simulation_signals.py:31` | 10 | 9 | 35 |
| [x] | `StrategySimulator._simulate_trades()` | `src/core/simulator/simulation_engine.py:197` | 10 | 5 | 101 |
| [x] | `IndicatorFactory.create_indicator()` | `src/core/strategy/compiler.py:105` | 9 | 7 | 62 |
| [x] | `BotCallbacksLifecycleMixin._start_bot_with_config()` | `src/ui/widgets/chart_window_mixins/bot_callbacks_lifecycle_mixin.py:11` | 9 | 3 | 103 |
| [x] | `BotStateHandlersMixin._process_manage()` | `src/core/tradingbot/bot_state_handlers.py:332` | 9 | 2 | 104 |
| [x] | `ParameterOptimizationDialog.start_optimization()` | `src/ui/dialogs/parameter_optimization_dialog.py:109` | 8 | 3 | 119 |
| [x] | `ChartChatMixin.setup_chart_chat()` | `src/chart_chat/mixin.py:32` | 7 | 3 | 108 |
| [x] | `BacktestEngine.run_backtest_with_definition()` | `src/core/backtesting/backtrader_integration.py:270` | 7 | 2 | 132 |
| [x] | `ParameterOptimizer.grid_search()` | `src/core/backtesting/optimization.py:64` | 7 | 2 | 103 |
| [x] | `EmbeddedTradingViewChartUIMixin._show_marking_context_menu()` | `src/ui/widgets/embedded_tradingview_chart_ui_mixin.py:62` | 6 | 2 | 163 |
| [x] | `PlaywrightFetcher.fetch()` | `src/derivatives/ko_finder/adapter/playwright_fetcher.py:170` | 6 | 2 | 111 |
| [x] | `ToolbarMixin._create_toolbar()` | `src/ui/widgets/chart_mixins/toolbar_mixin.py:23` | 6 | 1 | 355 |
| [x] | `ChartWindow.__init__()` | `src/ui/widgets/chart_window.py:171` | 5 | 1 | 117 |
| [x] | `PatternDbTabsMixin._create_build_tab()` | `src/ui/dialogs/pattern_db_tabs_mixin.py:121` | 4 | 1 | 197 |
| [x] | `OptimizationTabsMixin._create_config_tab()` | `src/ui/dialogs/optimization_tabs_mixin.py:30` | 3 | 1 | 155 |
| [x] | `IndicatorsWidget._setup_ui()` | `src/ui/widgets/indicators.py:35` | 3 | 1 | 102 |
| [x] | `ChartChatUIMixin._setup_ui()` | `src/chart_chat/chart_chat_ui_mixin.py:38` | 2 | 1 | 246 |
| [x] | `BotUISignalsMixin._create_signals_tab()` | `src/ui/widgets/chart_window_mixins/bot_ui_signals_mixin.py:9` | 2 | 1 | 148 |
| [x] | `KOSettingsDialog._init_ui()` | `src/ui/widgets/ko_finder/settings_dialog.py:51` | 2 | 1 | 138 |
| [x] | `ChartLayoutManager._create_default_layouts()` | `src/ui/multi_chart/layout_manager.py:362` | 2 | 1 | 127 |
| [x] | `BotUIControlMixin._create_bot_control_tab()` | `src/ui/widgets/chart_window_mixins/bot_ui_control_mixin.py:14` | 1 | 0 | 406 |
| [x] | `ChartSetDialog._setup_ui()` | `src/ui/multi_chart/chart_set_dialog.py:59` | 1 | 0 | 190 |
| [x] | `StrategySimulatorUIMixin._create_simulator_controls()` | `src/ui/widgets/chart_window_mixins/strategy_simulator_ui_mixin.py:71` | 1 | 0 | 188 |
| [x] | `ToolbarMixin.create_toolbar()` | `src/ui/app_components/toolbar_mixin.py:27` | 1 | 0 | 182 |
| [x] | `MenuMixin.create_menu_bar()` | `src/ui/app_components/menu_mixin.py:13` | 1 | 0 | 179 |
| [x] | `ThemeManager._create_light_theme()` | `src/ui/themes.py:182` | 1 | 0 | 166 |
| [x] | `ThemeManager._create_dark_theme()` | `src/ui/themes.py:17` | 1 | 0 | 164 |
| [x] | `SettingsTabsMixin._create_ai_tab()` | `src/ui/dialogs/settings_tabs_mixin.py:217` | 1 | 0 | 126 |
| [x] | `SettingsTabsMixin._create_market_data_tab()` | `src/ui/dialogs/settings_tabs_mixin.py:104` | 1 | 0 | 112 |
| [x] | `WatchlistWidget.init_ui()` | `src/ui/widgets/watchlist.py:79` | 1 | 0 | 112 |
