# SMA Crossover Strategy
# Classic dual moving average crossover strategy
# Entry: Fast SMA crosses above slow SMA
# Exit: Fast SMA crosses below slow SMA

name: SMA Crossover Strategy
version: 1.0.0
description: |
  Classic dual moving average crossover strategy.
  Enters long when fast SMA (20) crosses above slow SMA (50).
  Exits when fast SMA crosses below slow SMA.

  Best suited for trending markets.

# Technical Indicators
indicators:
  - type: SMA
    params:
      period: 20
    alias: sma_fast
    source: close
    plot: true

  - type: SMA
    params:
      period: 50
    alias: sma_slow
    source: close
    plot: true

  # Added for Regime Filter
  - type: ADX
    params:
      period: 14
    alias: adx
    plot: true

  # Added for Stop Loss
  - type: ATR
    params:
      period: 14
    alias: atr
    plot: true

# Entry/Exit Logic
entry_long:
  type: composite
  operator: AND
  conditions:
    - type: condition
      left: sma_fast
      operator: crosses_above
      right: sma_slow
      description: Fast SMA crosses above slow SMA (bullish signal)
    
    # Regime Filter: Only trade when trend is strong
    - type: condition
      left: adx
      operator: ">"
      right: 20
      description: Trend Strength (ADX) > 20

exit_long:
  type: composite
  operator: OR
  conditions:
    - type: condition
      left: sma_fast
      operator: crosses_below
      right: sma_slow
      description: Fast SMA crosses below slow SMA (exit signal)

# Risk Management
risk_management:
  stop_loss_atr_multiplier: 2.0  # Dynamic Stop
  take_profit_atr_multiplier: 4.0 # Dynamic Target
  trailing_stop_enabled: true
  trailing_stop_trigger_pct: 2.0
  trailing_stop_distance_atr: 1.5
  max_risk_per_trade_pct: 1.0
  max_position_size_pct: 100.0

# Metadata
meta:
  author: OrderPilot-AI
  category: Trend Following
  timeframe: 1D
  asset_class: Stocks
  tags:
    - moving_average
    - crossover
    - trend_following
    - beginner_friendly
