{
  "$schema": "../schemas/backtest_config_v2.schema.json",
  "version": "2.0.0",
  "extends": "base_scalping.json",

  "meta": {
    "name": "Scalping Micro Account 100 EUR",
    "description": "Optimiert fuer 100 EUR Micro-Account auf Bitunix BTC Perp. Fee-Impact kritisch beachten!",
    "author": "OrderPilot-AI",
    "tags": ["scalping", "micro", "100eur", "btc", "bitunix", "fee-aware"],
    "target_asset_class": "crypto",
    "target_timeframe": "1m",
    "scenario_type": "aggressive"
  },

  "overrides": {
    "execution_simulation.initial_capital": 100.0,
    "entry_score.thresholds.min_score_for_entry.value": 0.55,
    "entry_score.thresholds.min_score_for_entry.range": [0.50, 0.55, 0.60],
    "exit_management.stop_loss.atr_multiplier.value": 1.2,
    "exit_management.stop_loss.atr_multiplier.range": [1.0, 1.2, 1.5],
    "exit_management.take_profit.atr_multiplier.value": 1.6,
    "exit_management.take_profit.atr_multiplier.range": [1.4, 1.6, 2.0],
    "exit_management.trailing_stop.activation_atr.value": 0.7,
    "exit_management.trailing_stop.activation_atr.range": [0.5, 0.7, 0.9],
    "exit_management.trailing_stop.distance_atr.value": 0.4,
    "exit_management.trailing_stop.distance_atr.range": [0.3, 0.4, 0.5],
    "exit_management.partial_tp.enabled": true,
    "exit_management.partial_tp.tp1_percent": 50,
    "exit_management.partial_tp.tp1_rr": 1.0,
    "risk_leverage.risk_per_trade_pct.value": 0.50,
    "risk_leverage.risk_per_trade_pct.range": [0.25, 0.40, 0.50, 0.60],
    "risk_leverage.base_leverage.value": 20,
    "risk_leverage.base_leverage.range": [15, 20, 25],
    "risk_leverage.max_leverage": 50,
    "risk_leverage.min_liquidation_distance_pct": 5.0,
    "risk_leverage.max_daily_loss_pct": 5.0,
    "risk_leverage.max_trades_per_day": 15,
    "constraints.min_trades": 50,
    "constraints.max_drawdown_pct": 30,
    "constraints.min_win_rate": 0.55,
    "constraints.min_profit_factor": 1.4
  },

  "conditionals": [
    {
      "if": { "risk_leverage.base_leverage": { ">=": 20 } },
      "then": { "risk_leverage.min_liquidation_distance_pct": 5.0 }
    },
    {
      "if": { "risk_leverage.base_leverage": { ">=": 30 } },
      "then": { "risk_leverage.min_liquidation_distance_pct": 7.0 }
    }
  ],

  "parameter_groups": [
    {
      "name": "micro_sl_tp",
      "description": "SL/TP Kombinationen fuer Micro-Account mit Fee-Beruecksichtigung",
      "parameters": [
        "exit_management.stop_loss.atr_multiplier.value",
        "exit_management.take_profit.atr_multiplier.value"
      ],
      "combinations": [
        [1.0, 1.4],
        [1.2, 1.6],
        [1.5, 2.0]
      ]
    },
    {
      "name": "micro_trailing",
      "description": "Trailing Kombinationen fuer schnelles Absichern",
      "parameters": [
        "exit_management.trailing_stop.activation_atr.value",
        "exit_management.trailing_stop.distance_atr.value"
      ],
      "combinations": [
        [0.5, 0.3],
        [0.7, 0.4],
        [0.9, 0.5]
      ]
    }
  ],

  "optimization": {
    "method": "random",
    "max_iterations": 500,
    "target_metric": "expectancy",
    "minimize": false,
    "n_jobs": -1,
    "seed": 42
  }
}
