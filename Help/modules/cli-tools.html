<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Tools - OrderPilot-AI Help</title>
    <link rel="stylesheet" href="../assets/style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <h1>OrderPilot-AI Help <span class="version-badge">v1.0.0</span></h1>
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="../index.html">‚Üê Zur√ºck zur √úbersicht</a></li>
            <li><a href="#overview">√úbersicht</a></li>
            <li><a href="#commands">Befehle</a></li>
            <li><a href="#workflows">Workflows</a></li>
            <li><a href="#examples">Beispiele</a></li>
        </ul>
    </nav>

    <div class="container">
        <section id="overview">
            <h2>‚å®Ô∏è CLI Tools - √úbersicht</h2>

            <div class="alert info">
                <strong>Zweck:</strong> Die CLI Tools bieten Command-Line Interfaces f√ºr alle Migration-Operationen: Analyze, Convert, Validate, Compare und Batch-Verarbeitung.
            </div>

            <h3>Verf√ºgbare CLIs</h3>
            <table>
                <thead>
                    <tr>
                        <th>CLI</th>
                        <th>Zweck</th>
                        <th>Datei</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>analyze_strategy.py</code></td>
                        <td>Strategie analysieren</td>
                        <td><code>tools/analyze_strategy.py</code></td>
                    </tr>
                    <tr>
                        <td><code>convert_to_json.py</code></td>
                        <td>Zu JSON konvertieren</td>
                        <td><code>tools/convert_to_json.py</code></td>
                    </tr>
                    <tr>
                        <td><code>validate_config.py</code></td>
                        <td>JSON validieren</td>
                        <td><code>tools/validate_config.py</code></td>
                    </tr>
                    <tr>
                        <td><code>compare_strategies.py</code></td>
                        <td>Equivalence pr√ºfen</td>
                        <td><code>tools/compare_strategies.py</code></td>
                    </tr>
                    <tr>
                        <td><code>batch_migrate.py</code></td>
                        <td>Batch-Migration</td>
                        <td><code>tools/batch_migrate.py</code></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="commands">
            <h2>üîß Befehlsreferenz</h2>

            <h3>1. analyze_strategy.py</h3>
            <p>Analysiert eine hardkodierte Strategie und zeigt alle Details.</p>

            <div class="code-block">
                <pre><code class="language-bash"># Basic Usage
python tools/analyze_strategy.py trend_following_conservative

# Mit allen Details
python tools/analyze_strategy.py trend_following_conservative --verbose

# Output als JSON
python tools/analyze_strategy.py trend_following_conservative --format json

# Mehrere Strategien
python tools/analyze_strategy.py trend_following_conservative mean_reversion_rsi</code></pre>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Option</th>
                        <th>Beschreibung</th>
                        <th>Default</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>--verbose</code></td>
                        <td>Detaillierte Ausgabe</td>
                        <td>False</td>
                    </tr>
                    <tr>
                        <td><code>--format</code></td>
                        <td>Output-Format (text/json)</td>
                        <td>text</td>
                    </tr>
                    <tr>
                        <td><code>--output</code></td>
                        <td>Datei speichern</td>
                        <td>stdout</td>
                    </tr>
                </tbody>
            </table>

            <h3>2. convert_to_json.py</h3>
            <p>Konvertiert Strategien zu JSON-Konfigurationen.</p>

            <div class="code-block">
                <pre><code class="language-bash"># Einzelne Strategie
python tools/convert_to_json.py trend_following_conservative \
    --output config/trend_following_conservative.json

# Ohne Regime & Strategy Set
python tools/convert_to_json.py mean_reversion_rsi \
    --output config/mean_reversion.json \
    --no-regime \
    --no-strategy-set

# Mehrere Strategien kombinieren
python tools/convert_to_json.py \
    trend_following_conservative \
    trend_following_aggressive \
    --combined \
    --output config/trend_strategies.json</code></pre>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Option</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>--output PATH</code></td>
                        <td>Ausgabedatei (erforderlich)</td>
                    </tr>
                    <tr>
                        <td><code>--no-regime</code></td>
                        <td>Keine Regime-Generierung</td>
                    </tr>
                    <tr>
                        <td><code>--no-strategy-set</code></td>
                        <td>Keine Strategy Sets</td>
                    </tr>
                    <tr>
                        <td><code>--combined</code></td>
                        <td>Multi-Strategy JSON</td>
                    </tr>
                    <tr>
                        <td><code>--validate</code></td>
                        <td>Sofort validieren nach Konvertierung</td>
                    </tr>
                </tbody>
            </table>

            <h3>3. validate_config.py</h3>
            <p>Validiert JSON-Configs gegen das Pydantic-Schema.</p>

            <div class="code-block">
                <pre><code class="language-bash"># Einzelne Config
python tools/validate_config.py config/my_strategy.json

# Mehrere Configs
python tools/validate_config.py config/*.json

# Mit detaillierter Fehlerausgabe
python tools/validate_config.py config/my_strategy.json --verbose

# Batch mit Summary
python tools/validate_config.py config/*.json --summary</code></pre>
            </div>

            <h3>4. compare_strategies.py</h3>
            <p>Vergleicht JSON mit hardkodierten Strategien.</p>

            <div class="code-block">
                <pre><code class="language-bash"># Basic Compare
python tools/compare_strategies.py \
    config/trend_following_conservative.json \
    trend_following_conservative

# Mit detailliertem Diff
python tools/compare_strategies.py \
    config/trend_following_conservative.json \
    trend_following_conservative \
    --show-diffs

# Batch Compare
python tools/compare_strategies.py \
    config/migrated/*.json \
    --batch \
    --summary-only</code></pre>
            </div>

            <h3>5. batch_migrate.py</h3>
            <p>Migriert alle oder ausgew√§hlte Strategien automatisch.</p>

            <div class="code-block">
                <pre><code class="language-bash"># Alle Strategien migrieren
python tools/batch_migrate.py --output-dir config/migrated

# Nur bestimmte Types
python tools/batch_migrate.py \
    --output-dir config/migrated \
    --strategy-types trend_following mean_reversion

# Mit Validierung & Comparison
python tools/batch_migrate.py \
    --output-dir config/migrated \
    --validate \
    --compare \
    --report migration_report.txt</code></pre>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Option</th>
                        <th>Beschreibung</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>--output-dir DIR</code></td>
                        <td>Zielverzeichnis (erforderlich)</td>
                    </tr>
                    <tr>
                        <td><code>--strategy-types TYPE...</code></td>
                        <td>Nur bestimmte Types migrieren</td>
                    </tr>
                    <tr>
                        <td><code>--validate</code></td>
                        <td>Validierung nach Konvertierung</td>
                    </tr>
                    <tr>
                        <td><code>--compare</code></td>
                        <td>Equivalence Check durchf√ºhren</td>
                    </tr>
                    <tr>
                        <td><code>--report FILE</code></td>
                        <td>Report-Datei erstellen</td>
                    </tr>
                    <tr>
                        <td><code>--fail-fast</code></td>
                        <td>Bei erstem Fehler stoppen</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section id="workflows">
            <h2>üîÑ Typische Workflows</h2>

            <h3>Workflow 1: Einzelne Strategie migrieren</h3>
            <div class="code-block">
                <pre><code class="language-bash"># Schritt 1: Analysieren
python tools/analyze_strategy.py trend_following_conservative --verbose

# Schritt 2: Konvertieren
python tools/convert_to_json.py trend_following_conservative \
    --output config/trend_following_conservative.json

# Schritt 3: Validieren
python tools/validate_config.py config/trend_following_conservative.json

# Schritt 4: Vergleichen
python tools/compare_strategies.py \
    config/trend_following_conservative.json \
    trend_following_conservative \
    --show-diffs

# Ergebnis: ‚úÖ Equivalent!</code></pre>
            </div>

            <h3>Workflow 2: Alle Strategien batch-migrieren</h3>
            <div class="code-block">
                <pre><code class="language-bash"># One-Liner: Alles migrieren, validieren, vergleichen
python tools/batch_migrate.py \
    --output-dir config/migrated \
    --validate \
    --compare \
    --report migration_report.txt

# Report pr√ºfen
cat migration_report.txt

# Ergebnis:
# ‚úÖ 9/9 strategies migrated
# ‚úÖ 9/9 validated
# ‚úÖ 9/9 equivalent (100%)</code></pre>
            </div>

            <h3>Workflow 3: Multi-Strategy JSON erstellen</h3>
            <div class="code-block">
                <pre><code class="language-bash"># Alle Trend-Strategien kombinieren
python tools/convert_to_json.py \
    trend_following_conservative \
    trend_following_aggressive \
    breakout_volatility \
    breakout_momentum \
    --combined \
    --output config/trend_strategies.json

# Validieren
python tools/validate_config.py config/trend_strategies.json

# Vergleichen (batch)
python tools/compare_strategies.py \
    config/trend_strategies.json \
    --batch \
    --show-diffs</code></pre>
            </div>

            <h3>Workflow 4: CI/CD Integration</h3>
            <div class="code-block">
                <pre><code class="language-bash">#!/bin/bash
# .github/workflows/migration.sh

set -e  # Exit on error

echo "=== Running Migration Tests ==="

# Schritt 1: Batch migrieren
python tools/batch_migrate.py \
    --output-dir /tmp/migrated \
    --validate \
    --compare \
    --fail-fast \
    --report /tmp/migration_report.txt

# Schritt 2: Report pr√ºfen
if grep -q "‚ùå" /tmp/migration_report.txt; then
    echo "Migration failed!"
    cat /tmp/migration_report.txt
    exit 1
fi

echo "‚úÖ All migrations successful!"
exit 0</code></pre>
            </div>
        </section>

        <section id="examples">
            <h2>üí° Erweiterte Beispiele</h2>

            <h3>Beispiel 1: Debugging fehlgeschlagener Migration</h3>
            <div class="code-block">
                <pre><code class="language-bash"># Schritt 1: Analyze mit allen Details
python tools/analyze_strategy.py problematic_strategy --verbose --format json > analysis.json

# Schritt 2: JSON inspizieren
cat analysis.json | jq .

# Schritt 3: Konvertieren
python tools/convert_to_json.py problematic_strategy --output tmp.json

# Schritt 4: Validieren mit verbose output
python tools/validate_config.py tmp.json --verbose

# Schritt 5: Vergleichen mit detaillierten Diffs
python tools/compare_strategies.py tmp.json problematic_strategy --show-diffs

# Fehler identifizieren und in json_generator.py fixen</code></pre>
            </div>

            <h3>Beispiel 2: Performance-Vergleich</h3>
            <div class="code-block">
                <pre><code class="language-bash"># Batch-Migration mit Timing
time python tools/batch_migrate.py \
    --output-dir /tmp/migrated \
    --validate \
    --compare

# Typische Ausgabe:
# real    0m2.345s
# user    0m2.123s
# sys     0m0.222s
#
# ‚Üí ~260ms pro Strategie (9 Strategien)</code></pre>
            </div>

            <h3>Beispiel 3: Report-Parsing f√ºr Automation</h3>
            <div class="code-block">
                <pre><code class="language-bash"># Migration durchf√ºhren
python tools/batch_migrate.py \
    --output-dir config/migrated \
    --validate \
    --compare \
    --report report.txt

# Success-Rate extrahieren
success_rate=$(grep "Success Rate" report.txt | awk '{print $3}')

if [ "$success_rate" == "100.0%" ]; then
    echo "‚úÖ Perfect migration!"
    # Deploy to production
else
    echo "‚ùå Migration incomplete: $success_rate"
    # Alert developers
fi</code></pre>
            </div>
        </section>

        <section id="tips">
            <h2>üí° Best Practices</h2>

            <div class="alert success">
                <strong>Tipp 1:</strong> Nutzen Sie <code>batch_migrate.py</code> statt einzelner CLI-Aufrufe f√ºr konsistente Ergebnisse.
            </div>

            <div class="alert success">
                <strong>Tipp 2:</strong> Aktivieren Sie immer <code>--validate</code> und <code>--compare</code> bei Batch-Migrationen.
            </div>

            <div class="alert warning">
                <strong>Warnung:</strong> <code>--fail-fast</code> stoppt bei erstem Fehler - gut f√ºr CI, schlecht f√ºr Debugging aller Probleme.
            </div>

            <div class="alert info">
                <strong>Info:</strong> Reports werden im Markdown-Format gespeichert und k√∂nnen direkt in GitHub angezeigt werden.
            </div>
        </section>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Dokumentation</h3>
                <ul>
                    <li><a href="../index.html">Hauptseite</a></li>
                    <li><a href="migration-testing.html">Migration Testing</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 OrderPilot-AI. Migration Framework Documentation.</p>
        </div>
    </footer>

    <script src="../assets/script.js"></script>
</body>
</html>