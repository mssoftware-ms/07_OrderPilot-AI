<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OrderPilot-AI Hilfe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #1a1a1a;
            --bg-darker: #0f0f0f;
            --bg-light: #2a2a2a;
            --orange-primary: #ff8c00;
            --orange-light: #ffa726;
            --orange-dark: #e67e00;
            --text-primary: #e0e0e0;
            --text-secondary: #b0b0b0;
            --border-color: #3a3a3a;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #f44336;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Header */
        .header {
            background: var(--bg-darker);
            border-bottom: 2px solid var(--orange-primary);
            padding: 1.5rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .header h1 {
            color: var(--orange-primary);
            font-size: 2rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header h1::before {
            content: "üöÄ";
            font-size: 2.5rem;
        }

        /* Search Bar */
        .search-container {
            margin-top: 1rem;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 3rem;
            background: var(--bg-light);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--orange-primary);
            box-shadow: 0 0 0 3px rgba(255, 140, 0, 0.1);
        }

        .search-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
            font-size: 1.2rem;
        }

        /* Main Layout */
        .container {
            display: flex;
            min-height: calc(100vh - 150px);
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--bg-darker);
            border-right: 2px solid var(--border-color);
            padding: 2rem 0;
            position: sticky;
            top: 150px;
            height: calc(100vh - 150px);
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: var(--orange-primary) var(--bg-darker);
        }

        .sidebar::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track {
            background: var(--bg-darker);
        }

        .sidebar::-webkit-scrollbar-thumb {
            background: var(--orange-primary);
            border-radius: 4px;
        }

        .nav-section {
            margin-bottom: 2rem;
        }

        .nav-title {
            padding: 0.5rem 2rem;
            color: var(--orange-primary);
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-link {
            display: block;
            padding: 0.75rem 2rem;
            color: var(--text-secondary);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }

        .nav-link:hover {
            color: var(--orange-light);
            background: rgba(255, 140, 0, 0.05);
            border-left-color: var(--orange-light);
        }

        .nav-link.active {
            color: var(--orange-primary);
            background: rgba(255, 140, 0, 0.1);
            border-left-color: var(--orange-primary);
            font-weight: 600;
        }

        /* Content */
        .content {
            flex: 1;
            padding: 3rem;
            max-width: 1200px;
        }

        .section {
            display: none;
            animation: fadeIn 0.5s;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: var(--orange-primary);
            font-size: 2.5rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--orange-primary);
            padding-bottom: 0.5rem;
        }

        h3 {
            color: var(--orange-light);
            font-size: 1.8rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }

        h4 {
            color: var(--text-primary);
            font-size: 1.3rem;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }

        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }

        /* Cards */
        .card {
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            transition: all 0.3s;
        }

        .card:hover {
            border-color: var(--orange-primary);
            box-shadow: 0 4px 20px rgba(255, 140, 0, 0.1);
        }

        .card-title {
            color: var(--orange-primary);
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        /* Code Blocks */
        .code-block {
            background: var(--bg-darker);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--orange-primary);
            border-radius: 6px;
            padding: 1rem;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.9rem;
        }

        .code-block code {
            color: var(--text-primary);
        }

        /* Lists */
        ul, ol {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        /* Badges */
        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }

        .badge-primary {
            background: var(--orange-primary);
            color: var(--bg-darker);
        }

        .badge-success {
            background: var(--success);
            color: white;
        }

        .badge-warning {
            background: var(--warning);
            color: var(--bg-darker);
        }

        /* Buttons */
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            background: var(--orange-primary);
            color: var(--bg-darker);
            text-decoration: none;
            border-radius: 6px;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
        }

        .btn:hover {
            background: var(--orange-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 140, 0, 0.3);
        }

        /* Collapsible Sections */
        .collapsible {
            background: var(--bg-light);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .collapsible-header {
            padding: 1rem 1.5rem;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .collapsible-header:hover {
            background: rgba(255, 140, 0, 0.05);
        }

        .collapsible-header h4 {
            margin: 0;
            color: var(--orange-light);
        }

        .collapsible-icon {
            font-size: 1.5rem;
            transition: transform 0.3s;
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible.open .collapsible-content {
            max-height: 2000px;
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        .collapsible.open .collapsible-icon {
            transform: rotate(180deg);
        }

        /* Alert Boxes */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin-bottom: 1rem;
            border-left: 4px solid;
        }

        .alert-info {
            background: rgba(33, 150, 243, 0.1);
            border-left-color: #2196f3;
            color: #64b5f6;
        }

        .alert-warning {
            background: rgba(255, 152, 0, 0.1);
            border-left-color: var(--warning);
            color: var(--orange-light);
        }

        .alert-success {
            background: rgba(76, 175, 80, 0.1);
            border-left-color: var(--success);
            color: #81c784;
        }

        /* Steps */
        .steps {
            counter-reset: step-counter;
        }

        .step {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 2rem;
        }

        .step::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            width: 2rem;
            height: 2rem;
            background: var(--orange-primary);
            color: var(--bg-darker);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                height: auto;
                position: static;
            }

            .content {
                padding: 1.5rem;
            }

            h2 {
                font-size: 2rem;
            }
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-dark);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--orange-primary);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--orange-light);
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>OrderPilot-AI Hilfe</h1>
        <div class="search-container">
            <span class="search-icon">üîç</span>
            <input type="text" class="search-input" id="searchInput" placeholder="Suche nach Themen, Funktionen...">
        </div>
    </div>

    <div class="container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="nav-section">
                <div class="nav-title">Trading Bot</div>
                <a href="#bot-quickstart" class="nav-link active">‚ö° Quickstart</a>
                <a href="#bot-config" class="nav-link">‚öôÔ∏è Konfiguration</a>
                <a href="#bot-json-strategies" class="nav-link">üìÑ JSON Strategien</a>
                <a href="#bot-cel-rules" class="nav-link">üß† CEL Rules Engine</a>
                <a href="#bot-regime-detection" class="nav-link">üéØ Regime Erkennung</a>
                <a href="#bot-execution" class="nav-link">‚ñ∂Ô∏è Bot Ausf√ºhrung</a>
                <a href="#bot-monitoring" class="nav-link">üìä Monitoring</a>
            </div>

            <div class="nav-section">
                <div class="nav-title">Entry Analyzer</div>
                <a href="#analyzer-quickstart" class="nav-link">‚ö° Quickstart</a>
                <a href="#analyzer-backtest" class="nav-link">üìà Backtesting</a>
                <a href="#analyzer-optimization" class="nav-link">üîß Indikator-Optimierung</a>
                <a href="#analyzer-regime-sets" class="nav-link">üì¶ Regime Sets</a>
                <a href="#analyzer-pattern" class="nav-link">üîç Mustererkennung</a>
                <a href="#analyzer-results" class="nav-link">üìä Ergebnisse</a>
            </div>

            <!-- NEW: Strategy Concept Section -->
            <div class="nav-section">
                <div class="nav-title">Strategy Concept</div>
                <a href="#strategy-concept-overview" class="nav-link">üìä √úberblick</a>
                <a href="#strategy-concept-pattern-recognition" class="nav-link">üîç Pattern Recognition</a>
                <a href="#strategy-concept-integration" class="nav-link">üéØ Pattern Integration</a>
                <a href="#strategy-concept-workflow" class="nav-link">‚ö° Workflow</a>
            </div>

            <div class="nav-section">
                <div class="nav-title">Weitere Themen</div>
                <a href="#faq" class="nav-link">‚ùì FAQ</a>
                <a href="#troubleshooting" class="nav-link">üîß Troubleshooting</a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- Trading Bot Quickstart -->
            <section id="bot-quickstart" class="section active">
                <h2>üöÄ Trading Bot - Quickstart</h2>

                <div class="alert alert-info">
                    <strong>üí° Tipp:</strong> Der Trading Bot verwendet JSON-basierte Strategien mit automatischer Regime-Erkennung f√ºr adaptives Trading.
                </div>

                <div class="card">
                    <div class="card-title">In 3 Minuten zum ersten Bot</div>

                    <div class="steps">
                        <div class="step">
                            <h4>JSON-Strategie ausw√§hlen</h4>
                            <p>W√§hle eine vorgefertigte Strategie aus <code>03_JSON/Trading_Bot/</code> oder erstelle deine eigene.</p>
                            <div class="code-block">
                                <code>Verf√ºgbare Strategien:
- trend_following_conservative.json
- momentum_macd.json
- mean_reversion_rsi.json
- breakout_volatility.json
- scalping_range.json</code>
                            </div>
                        </div>

                        <div class="step">
                            <h4>Bot starten</h4>
                            <p>Klicke auf den <span class="badge badge-primary">Start Bot</span> Button im Trading Tab.</p>
                            <ul>
                                <li>W√§hle deine JSON-Config-Datei</li>
                                <li>Bot analysiert das aktuelle Marktregime</li>
                                <li>Passende Strategie wird automatisch geladen</li>
                            </ul>
                        </div>

                        <div class="step">
                            <h4>Monitoring</h4>
                            <p>Der Bot l√§uft nun im Hintergrund und:</p>
                            <ul>
                                <li>‚úÖ √úberwacht Marktregime kontinuierlich</li>
                                <li>‚úÖ Wechselt Strategien bei Regime-√Ñnderungen</li>
                                <li>‚úÖ F√ºhrt Trades gem√§√ü Entry/Exit-Conditions aus</li>
                                <li>‚úÖ Zeigt Live-Status im Bot-Panel</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Wichtig:</strong> Der Bot startet standardm√§√üig im Paper-Trading-Modus. F√ºr Live-Trading siehe "Bot Ausf√ºhrung".
                </div>
            </section>

            <!-- Bot Configuration -->
            <section id="bot-config" class="section">
                <h2>‚öôÔ∏è Trading Bot - Konfiguration</h2>

                <h3>JSON-Strategie Struktur</h3>
                <p>Eine Trading-Strategie besteht aus mehreren Komponenten:</p>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>1. Indikatoren</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Definiere die Indikatoren, die deine Strategie verwendet:</p>
                        <div class="code-block">
                            <code>"indicators": [
  {
    "id": "rsi_14",
    "type": "RSI",
    "timeframe": "1m",
    "params": {"period": 14}
  },
  {
    "id": "macd_12_26_9",
    "type": "MACD",
    "timeframe": "1m",
    "params": {"fast": 12, "slow": 26, "signal": 9}
  }
]</code>
                        </div>
                        <p><strong>Unterst√ºtzte Indikatoren:</strong> RSI, MACD, ADX, BB (Bollinger Bands), SMA, EMA, ATR, VWAP</p>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>2. Regimes</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Definiere Marktregimes f√ºr adaptive Strategien:</p>
                        <div class="code-block">
                            <code>"regimes": [
  {
    "id": "regime_trend_up",
    "name": "TREND_UP",
    "conditions": {
      "type": "group",
      "operator": "and",
      "conditions": [
        {"type": "condition", "indicator": "adx_14", "operator": "gt", "value": 25},
        {"type": "condition", "indicator": "close", "operator": "gt", "indicator_ref": "sma_200"}
      ]
    }
  }
]</code>
                        </div>
                        <p><strong>Regime-Typen:</strong> TREND_UP, TREND_DOWN, RANGE, VOLATILE</p>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>3. Strategien</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Definiere Entry- und Exit-Bedingungen:</p>
                        <div class="code-block">
                            <code>"strategies": [
  {
    "id": "strategy_trend",
    "name": "Trend Following",
    "entry_conditions": {
      "type": "group",
      "operator": "and",
      "conditions": [
        {"type": "condition", "indicator": "rsi_14", "operator": "gt", "value": 50},
        {"type": "condition", "indicator": "macd_histogram", "operator": "gt", "value": 0}
      ]
    },
    "exit_conditions": {
      "type": "group",
      "operator": "or",
      "conditions": [
        {"type": "stop_loss"},
        {"type": "take_profit"}
      ]
    },
    "risk": {
      "position_size_pct": 2.0,
      "stop_loss_pct": 2.0,
      "take_profit_pct": 6.0
    }
  }
]</code>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>4. Routing</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Verbinde Regimes mit Strategien:</p>
                        <div class="code-block">
                            <code>"routing": [
  {
    "regimes": {"all_of": ["regime_trend_up"]},
    "strategy_set_id": "set_trend"
  },
  {
    "regimes": {"all_of": ["regime_range"]},
    "strategy_set_id": "set_range"
  }
]</code>
                        </div>
                        <p><strong>Routing-Optionen:</strong> all_of (UND), any_of (ODER), none_of (NICHT)</p>
                    </div>
                </div>
            </section>

            <!-- Bot JSON Strategies -->
            <section id="bot-json-strategies" class="section">
                <h2>üìÑ JSON Strategien</h2>

                <h3>Vorgefertigte Strategien</h3>
                <p>OrderPilot-AI enth√§lt 9 produktionsreife Strategien:</p>

                <div class="card">
                    <div class="card-title">üéØ Trend Following</div>
                    <ul>
                        <li><code>trend_following_conservative.json</code> - Konservatives Trend-Trading mit hoher Sicherheit</li>
                        <li><code>trend_following_aggressive.json</code> - Aggressives Trend-Trading f√ºr starke Trends</li>
                    </ul>
                    <span class="badge badge-success">Empfohlen f√ºr Anf√§nger</span>
                </div>

                <div class="card">
                    <div class="card-title">‚ö° Momentum</div>
                    <ul>
                        <li><code>momentum_macd.json</code> - MACD-basierte Momentum-Strategie</li>
                    </ul>
                    <span class="badge badge-warning">Mittleres Risiko</span>
                </div>

                <div class="card">
                    <div class="card-title">üîÑ Mean Reversion</div>
                    <ul>
                        <li><code>mean_reversion_rsi.json</code> - RSI-basierte Mean-Reversion</li>
                        <li><code>mean_reversion_bb.json</code> - Bollinger Bands Mean-Reversion</li>
                    </ul>
                    <span class="badge badge-warning">F√ºr Range-M√§rkte</span>
                </div>

                <div class="card">
                    <div class="card-title">üí• Breakout</div>
                    <ul>
                        <li><code>breakout_momentum.json</code> - Momentum-Breakout-Strategie</li>
                        <li><code>breakout_volatility.json</code> - Volatility-Breakout-Strategie</li>
                    </ul>
                    <span class="badge badge-warning">Hohes Risiko/Ertrag</span>
                </div>

                <div class="card">
                    <div class="card-title">üìä Scalping & Range</div>
                    <ul>
                        <li><code>scalping_range.json</code> - Kurzfristige Range-Scalping</li>
                        <li><code>sideways_range_bounce.json</code> - Seitw√§rts-Range-Trading</li>
                    </ul>
                    <span class="badge badge-warning">F√ºr erfahrene Trader</span>
                </div>

                <h3>Eigene Strategie erstellen</h3>
                <div class="steps">
                    <div class="step">
                        <h4>Template kopieren</h4>
                        <p>Kopiere eine bestehende JSON-Datei als Ausgangspunkt</p>
                    </div>
                    <div class="step">
                        <h4>Anpassen</h4>
                        <p>√Ñndere Indikatoren, Regimes, Entry/Exit-Conditions und Risk-Parameter</p>
                    </div>
                    <div class="step">
                        <h4>Validieren</h4>
                        <p>Lade die JSON-Datei im Entry Analyzer f√ºr Backtest-Validierung</p>
                    </div>
                    <div class="step">
                        <h4>Deployen</h4>
                        <p>Speichere in <code>03_JSON/Trading_Bot/</code> und verwende im Bot</p>
                    </div>
                </div>
            </section>

            <!-- Bot CEL Rules Engine -->
            <section id="bot-cel-rules" class="section">
                <h2>üß† CEL Rules Engine</h2>

                <div class="alert alert-info">
                    <strong>üí° Neu in Phase 1:</strong> CEL (Common Expression Language) erm√∂glicht dynamische Trading-Regeln ohne Code-√Ñnderungen!
                </div>

                <h3>Was ist CEL?</h3>
                <p>CEL ist eine sichere, nicht-Turing-vollst√§ndige Ausdruckssprache f√ºr Runtime-Rule-Evaluation. Im Gegensatz zu Python-Code:</p>
                <ul>
                    <li>‚úÖ <strong>Sicher:</strong> Keine Loops, keine Rekursion, keine File-I/O</li>
                    <li>‚úÖ <strong>Schnell:</strong> Sub-Millisekunden-Auswertung dank Compilation-Caching</li>
                    <li>‚úÖ <strong>Flexibel:</strong> Regeln in JSON-Configs zur Laufzeit √§ndern</li>
                    <li>‚úÖ <strong>Validierbar:</strong> Syntax-Checks vor Deployment</li>
                </ul>

                <h3>CEL vs. Operator-Modus</h3>
                <div class="card">
                    <div class="card-title">Vergleich: Zwei Evaluation-Modi</div>
                    <table style="width: 100%; margin-top: 1rem;">
                        <tr>
                            <th>Aspekt</th>
                            <th>Operator-Modus (Legacy)</th>
                            <th>CEL-Modus (Neu)</th>
                        </tr>
                        <tr>
                            <td><strong>Syntax</strong></td>
                            <td>
                                <pre><code>{
  "left": {"indicator_id": "rsi14", "field": "value"},
  "op": "GT",
  "right": {"value": 60}
}</code></pre>
                            </td>
                            <td>
                                <pre><code>{
  "cel_expression": "rsi14.value > 60"
}</code></pre>
                            </td>
                        </tr>
                        <tr>
                            <td><strong>Komplexit√§t</strong></td>
                            <td>‚ö†Ô∏è Verschachtelte Groups f√ºr AND/OR</td>
                            <td>‚úÖ Native Logical Operators</td>
                        </tr>
                        <tr>
                            <td><strong>Lesbarkeit</strong></td>
                            <td>‚ö†Ô∏è Verbose JSON-Struktur</td>
                            <td>‚úÖ Python-√§hnliche Syntax</td>
                        </tr>
                        <tr>
                            <td><strong>Performance</strong></td>
                            <td>‚úÖ Direkte Python-Evaluation</td>
                            <td>‚úÖ Compilation Caching (LRU-128)</td>
                        </tr>
                    </table>
                    <p style="margin-top: 1rem;"><strong>Empfehlung:</strong> Nutze CEL f√ºr neue Strategien, Operator-Modus f√ºr bestehende Backward Compatibility.</p>
                </div>

                <h3>CEL Syntax - Die Basics</h3>
                <div class="card">
                    <div class="card-title">Vergleichsoperatoren</div>
                    <pre><code>// Greater Than
rsi14.value > 60

// Less Than
atrp.value < 0.20

// Equal
regime == 'R1'

// Not Equal
direction != 'DOWN'

// Greater/Less or Equal
adx14.value >= 25
volume_pctl.value <= 20</code></pre>
                </div>

                <div class="card">
                    <div class="card-title">Logische Operatoren</div>
                    <pre><code>// AND: Beide Bedingungen m√ºssen wahr sein
rsi14.value > 60 && adx14.value > 25

// OR: Mindestens eine Bedingung muss wahr sein
rsi14.value > 70 || adx14.value > 30

// NOT: Negation
!(volume_pctl.value < 20)

// Komplexe Verschachtelung mit Klammern
(rsi14.value > 60 && adx14.value > 25) || (atrp.value > 1.0 && bbwidth.value > 0.03)</code></pre>
                </div>

                <div class="card">
                    <div class="card-title">Arithmetische Operationen</div>
                    <pre><code>// Addition/Subtraktion
rsi14.value + rsi14.signal > 130
macd.histogram - macd.signal < 0

// Multiplikation/Division
atrp.value * 100 > 2.0
price.close / price.open > 1.02

// Ternary Conditional
trade.side == 'long' ? trade.current_price <= trade.stop_price : trade.current_price >= trade.stop_price</code></pre>
                </div>

                <div class="card">
                    <div class="card-title">Nested Field Access</div>
                    <pre><code>// Verschachtelte Objekte mit Dot-Notation
rsi14.value > cfg.min_rsi
trade.pnl_pct >= trade.tr_lock_pct
indicators.macd.histogram > 0</code></pre>
                </div>

                <h3>Custom Trading Functions</h3>
                <p>CEL Engine bietet 8 spezialisierte Trading-Funktionen:</p>

                <div class="card">
                    <div class="card-title">üìä pctl() - Percentile Berechnung</div>
                    <p><strong>Signatur:</strong> <code>pctl(series: list, percentile: float, window: int = None)</code></p>
                    <p><strong>Beschreibung:</strong> Berechnet Perzentil eines Datensatzes (z.B. f√ºr Volume-Rank)</p>
                    <pre><code>// Volume ist im oberen Quartil (> 75. Perzentil)
pctl(volume_series, 75) < current_volume

// Rolling Window: Letzten 20 Bars
pctl(volume_series, 50, 20) > 1000000</code></pre>
                    <span class="badge badge-success">Verf√ºgbar</span>
                </div>

                <div class="card">
                    <div class="card-title">üìà crossover() - Bullish Crossover</div>
                    <p><strong>Signatur:</strong> <code>crossover(series1: list, series2: list)</code></p>
                    <p><strong>Beschreibung:</strong> Erkennt bullischen Crossover (series1 kreuzt series2 von unten)</p>
                    <pre><code>// Golden Cross: Fast MA kreuzt Slow MA
crossover([sma_fast_current, sma_fast_prev], [sma_slow_current, sma_slow_prev])

// MACD Crossover
crossover([macd_current, macd_prev], [macd_signal_current, macd_signal_prev])</code></pre>
                    <span class="badge badge-success">Verf√ºgbar</span>
                </div>

                <div class="card">
                    <div class="card-title">‚ùì isnull() / nz() / coalesce()</div>
                    <p><strong>Null-Handling-Funktionen:</strong></p>
                    <pre><code>// isnull: Pr√ºft auf None/NaN
isnull(obi.value) ? 0.5 : obi.value

// nz: Nutze Default bei Null
nz(obi.value, 0.5) > 0.7

// coalesce: Erste nicht-null Wert
coalesce(obi.value, orderflow.value, 0.5) > 0.6</code></pre>
                    <span class="badge badge-success">Verf√ºgbar</span>
                </div>

                <div class="card">
                    <div class="card-title">üî¢ abs() / min() / max()</div>
                    <p><strong>Mathematische Helper-Funktionen:</strong></p>
                    <pre><code>// abs: Absolute Value
abs(trade.pnl_pct) > 2.0

// min: Minimum von zwei Werten
min(atrp.value, range_pct.value) > 0.5

// max: Maximum von zwei Werten
max(atrp.value, range_pct.value) < 2.0</code></pre>
                    <span class="badge badge-success">Verf√ºgbar</span>
                </div>

                <h3>Real-World Trading Rules</h3>
                <div class="card">
                    <div class="card-title">üö´ No-Trade Rule: Niedrige Liquidit√§t</div>
                    <pre><code>{
  "cel_expression": "volume_pctl.value < cfg.min_volume_pctl && atrp.value < cfg.min_atrp_pct"
}

// Beispiel-Context:
// volume_pctl.value = 15.0, cfg.min_volume_pctl = 20
// atrp.value = 0.15, cfg.min_atrp_pct = 0.20
// Ergebnis: true (Kein Trade wegen niedriger Liquidit√§t + Volatilit√§t)</code></pre>
                    <span class="badge badge-danger">No-Trade</span>
                </div>

                <div class="card">
                    <div class="card-title">‚úÖ Entry Rule: Trend + Momentum</div>
                    <pre><code>{
  "cel_expression": "regime == 'R1' && direction == 'UP' && rsi14.value > 50 && rsi14.value < 80"
}

// Beispiel-Context:
// regime = 'R1', direction = 'UP'
// rsi14.value = 65.2
// Ergebnis: true (Trend Up mit gesundem RSI-Momentum)</code></pre>
                    <span class="badge badge-success">Entry</span>
                </div>

                <div class="card">
                    <div class="card-title">üõë Exit Rule: Stop Loss Hit</div>
                    <pre><code>{
  "cel_expression": "trade.side == 'long' ? trade.current_price <= trade.stop_price : trade.current_price >= trade.stop_price"
}

// Beispiel-Context (Long):
// trade.side = 'long', trade.current_price = 95159.70, trade.stop_price = 95171.63
// Ergebnis: true (Kurs unter Stop ‚Üí Exit Long)

// Beispiel-Context (Short):
// trade.side = 'short', trade.current_price = 95210.00, trade.stop_price = 95200.00
// Ergebnis: true (Kurs √ºber Stop ‚Üí Exit Short)</code></pre>
                    <span class="badge badge-danger">Exit</span>
                </div>

                <div class="card">
                    <div class="card-title">üîí Update-Stop Rule: Break-Even Lock</div>
                    <pre><code>{
  "cel_expression": "trade.pnl_pct >= trade.tr_lock_pct ? max(trade.stop_price, trade.entry_price) : trade.stop_price"
}

// Beispiel-Context:
// trade.pnl_pct = 1.5, trade.tr_lock_pct = 1.0
// trade.stop_price = 94000, trade.entry_price = 95000
// Ergebnis: 95000 (Stop wird auf Entry verschoben ‚Üí Break-Even Lock)</code></pre>
                    <span class="badge badge-warning">Stop Update</span>
                </div>

                <h3>JSON Integration</h3>
                <div class="card">
                    <div class="card-title">CEL in JSON Strategy Config</div>
                    <pre><code>{
  "schema_version": "1.0.0",
  "indicators": [
    {"id": "rsi14", "type": "RSI", "params": {"period": 14}},
    {"id": "adx14", "type": "ADX", "params": {"period": 14}}
  ],
  "strategies": [
    {
      "id": "trend_momentum",
      "entry_conditions": {
        "all": [
          {
            "cel_expression": "rsi14.value > 60 && adx14.value > 25"
          }
        ]
      },
      "exit_conditions": {
        "any": [
          {
            "cel_expression": "rsi14.value < 40"
          },
          {
            "cel_expression": "adx14.value < 20"
          }
        ]
      }
    }
  ]
}</code></pre>
                    <p><strong>Hinweis:</strong> CEL-Expressions k√∂nnen mit Operator-basierten Conditions in derselben Config gemischt werden!</p>
                </div>

                <div class="card">
                    <div class="card-title">Mixed Mode: CEL + Operator</div>
                    <pre><code>{
  "entry_conditions": {
    "all": [
      {
        "cel_expression": "rsi14.value > 60 && adx14.value > 25"
      },
      {
        "left": {"indicator_id": "volume_pctl", "field": "value"},
        "op": "GT",
        "right": {"value": 50}
      }
    ]
  }
}

// Beide Modi funktionieren nahtlos zusammen!
// CEL f√ºr komplexe Logic, Operator f√ºr einfache Vergleiche</code></pre>
                    <span class="badge badge-success">Backward Compatible</span>
                </div>

                <h3>Error Handling & Debugging</h3>
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è H√§ufige Fehler:</strong>
                </div>

                <div class="card">
                    <div class="card-title">‚ùå Non-Boolean Result</div>
                    <pre><code>// FALSCH: Arithmetischer Ausdruck gibt Zahl zur√ºck
{
  "cel_expression": "rsi14.value + adx14.value"
}
// ERROR: CEL expression must return boolean

// RICHTIG: Mit Vergleichsoperator
{
  "cel_expression": "rsi14.value + adx14.value > 90"
}</code></pre>
                </div>

                <div class="card">
                    <div class="card-title">‚ùå Syntax Error</div>
                    <pre><code>// FALSCH: Ung√ºltiger Operator
{
  "cel_expression": "rsi14.value >>> 60"
}
// ERROR: Invalid syntax

// RICHTIG: G√ºltiger Operator
{
  "cel_expression": "rsi14.value > 60"
}</code></pre>
                </div>

                <div class="card">
                    <div class="card-title">‚ö†Ô∏è Missing Field Handling</div>
                    <pre><code>// CEL Engine nutzt default=False bei fehlenden Feldern
{
  "cel_expression": "nonexistent_indicator.value > 60"
}
// Gibt False zur√ºck statt Exception zu werfen

// Best Practice: Null-Checks
{
  "cel_expression": "!isnull(obi.value) && obi.value > 0.7"
}</code></pre>
                </div>

                <h3>Validation vor Deployment</h3>
                <div class="steps">
                    <div class="step">
                        <h4>1. Syntax-Check</h4>
                        <pre><code>from src.core.tradingbot.cel_engine import get_cel_engine

engine = get_cel_engine()
is_valid, error = engine.validate_expression(
    "rsi14.value > 60 && adx14.value > 25"
)

if not is_valid:
    print(f"Syntax error: {error}")</code></pre>
                    </div>
                    <div class="step">
                        <h4>2. Test mit Sample-Context</h4>
                        <pre><code>test_context = {
    "rsi14": {"value": 65.2},
    "adx14": {"value": 28.5}
}

result = engine.evaluate(
    "rsi14.value > 60 && adx14.value > 25",
    test_context
)

assert result is True</code></pre>
                    </div>
                    <div class="step">
                        <h4>3. JSON Config Validierung</h4>
                        <pre><code>from src.core.tradingbot.config.loader import ConfigLoader

loader = ConfigLoader()
config = loader.load_config("my_strategy.json")

# Pydantic validiert:
# - Entweder CEL OR Operator-Modus
# - Nicht beide gleichzeitig
# - Mindestens einer vorhanden</code></pre>
                    </div>
                </div>

                <h3>Performance</h3>
                <div class="card">
                    <div class="card-title">üìä Performance-Charakteristik</div>
                    <table style="width: 100%; margin-top: 1rem;">
                        <tr>
                            <th>Metrik</th>
                            <th>First Call (Compilation)</th>
                            <th>Cached Call</th>
                        </tr>
                        <tr>
                            <td><strong>Simple Expression</strong></td>
                            <td>~5-10ms</td>
                            <td>~0.1-0.5ms</td>
                        </tr>
                        <tr>
                            <td><strong>Complex Nested</strong></td>
                            <td>~20-50ms</td>
                            <td>~1-2ms</td>
                        </tr>
                        <tr>
                            <td><strong>Cache Hit Rate</strong></td>
                            <td colspan="2">>90% in Production</td>
                        </tr>
                        <tr>
                            <td><strong>Memory per Program</strong></td>
                            <td colspan="2">~2KB (128 cached = ~256KB)</td>
                        </tr>
                    </table>
                </div>

                <div class="alert alert-success">
                    <strong>‚úÖ Production Ready:</strong> 45 Tests passing (23 CEL Engine + 22 ConditionEvaluator)
                </div>

                <h3>Best Practices</h3>
                <ul>
                    <li>‚úÖ Nutze CEL f√ºr komplexe Logic mit AND/OR/NOT</li>
                    <li>‚úÖ Halte Expressions kurz und lesbar (max 2-3 Operatoren)</li>
                    <li>‚úÖ Nutze Custom Functions (pctl, crossover) f√ºr Trading-spezifische Logic</li>
                    <li>‚úÖ Teste mit validate_expression() vor Deployment</li>
                    <li>‚úÖ Nutze Null-Handling (isnull, nz, coalesce) f√ºr robuste Regeln</li>
                    <li>‚ö†Ô∏è Vermeide √ºberm√§√üige Verschachtelung (Lesbarkeit leidet)</li>
                    <li>‚ö†Ô∏è Performance: Cache-Hit-Rate bei 90%+ halten (wiederkehrende Expressions)</li>
                </ul>
            </section>

            <!-- Bot Regime Detection -->
            <section id="bot-regime-detection" class="section">
                <h2>üéØ Regime Erkennung</h2>

                <h3>Was ist Regime-basiertes Trading?</h3>
                <p>Der Bot klassifiziert Marktbedingungen automatisch in verschiedene "Regimes" und passt seine Strategie dynamisch an.</p>

                <div class="card">
                    <div class="card-title">üìà TREND_UP (Aufw√§rtstrend)</div>
                    <p><strong>Erkennungsmerkmale:</strong></p>
                    <ul>
                        <li>ADX > 25 (starker Trend)</li>
                        <li>Kurs √ºber langfristigem Durchschnitt</li>
                        <li>+DI > -DI</li>
                    </ul>
                    <p><strong>Beste Strategien:</strong> Trend Following, Momentum</p>
                </div>

                <div class="card">
                    <div class="card-title">üìâ TREND_DOWN (Abw√§rtstrend)</div>
                    <p><strong>Erkennungsmerkmale:</strong></p>
                    <ul>
                        <li>ADX > 25 (starker Trend)</li>
                        <li>Kurs unter langfristigem Durchschnitt</li>
                        <li>-DI > +DI</li>
                    </ul>
                    <p><strong>Beste Strategien:</strong> Short-Selling, Put-Options</p>
                </div>

                <div class="card">
                    <div class="card-title">‚ÜîÔ∏è RANGE (Seitw√§rts)</div>
                    <p><strong>Erkennungsmerkmale:</strong></p>
                    <ul>
                        <li>ADX < 25 (schwacher Trend)</li>
                        <li>Kurs oszilliert in definiertem Band</li>
                        <li>Niedrige Volatilit√§t</li>
                    </ul>
                    <p><strong>Beste Strategien:</strong> Mean Reversion, Range Bounce, Scalping</p>
                </div>

                <div class="card">
                    <div class="card-title">üí• VOLATILE (Hohe Volatilit√§t)</div>
                    <p><strong>Erkennungsmerkmale:</strong></p>
                    <ul>
                        <li>ATR > historischer Durchschnitt</li>
                        <li>Gro√üe Kursausschl√§ge</li>
                        <li>Erh√∂htes Handelsvolumen</li>
                    </ul>
                    <p><strong>Beste Strategien:</strong> Breakout, Volatility Expansion</p>
                </div>

                <div class="alert alert-info">
                    <strong>üîÑ Automatisches Umschalten:</strong> Der Bot erkennt Regime-√Ñnderungen in Echtzeit und wechselt automatisch zur optimalen Strategie.
                </div>
            </section>

            <!-- Bot Execution -->
            <section id="bot-execution" class="section">
                <h2>‚ñ∂Ô∏è Bot Ausf√ºhrung</h2>

                <h3>Bot starten</h3>
                <div class="steps">
                    <div class="step">
                        <h4>Trading Tab √∂ffnen</h4>
                        <p>Navigiere zum Trading Tab in der Hauptanwendung</p>
                    </div>
                    <div class="step">
                        <h4>Start Bot klicken</h4>
                        <p>Der Strategy Settings Dialog √∂ffnet sich</p>
                    </div>
                    <div class="step">
                        <h4>JSON-Config w√§hlen</h4>
                        <p>Browse zu deiner Strategie-Datei in <code>03_JSON/Trading_Bot/</code></p>
                    </div>
                    <div class="step">
                        <h4>Marktanalyse</h4>
                        <p>Klicke "üîç Analyze Current Market":</p>
                        <ul>
                            <li>Bot erkennt aktuelles Regime</li>
                            <li>Matched Strategy wird angezeigt</li>
                            <li>Entry/Exit-Conditions werden geladen</li>
                        </ul>
                    </div>
                    <div class="step">
                        <h4>Bot starten</h4>
                        <p>Klicke "‚úì Apply Strategy" zum Starten</p>
                    </div>
                </div>

                <h3>Bot-Status √ºberwachen</h3>
                <div class="card">
                    <div class="card-title">Live-Monitoring</div>
                    <p>Das Bot-Control-Panel zeigt:</p>
                    <ul>
                        <li><span class="badge badge-success">Status</span> RUNNING / STOPPED / PAUSED</li>
                        <li><strong>Aktuelles Regime:</strong> z.B. TREND_UP (NORMAL)</li>
                        <li><strong>Aktive Strategie:</strong> z.B. Trend Following Conservative</li>
                        <li><strong>Offene Positionen:</strong> Anzahl und Gesamtwert</li>
                        <li><strong>P&L:</strong> Aktueller Gewinn/Verlust</li>
                    </ul>
                </div>

                <h3>Bot stoppen/pausieren</h3>
                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>‚è∏Ô∏è Pause (ohne Positionen schlie√üen)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Klicke <span class="badge badge-warning">Pause</span> um:</p>
                        <ul>
                            <li>Neue Entry-Signale zu ignorieren</li>
                            <li>Bestehende Positionen offen zu lassen</li>
                            <li>Exit-Conditions weiter zu √ºberwachen</li>
                        </ul>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>‚èπÔ∏è Stop (alle Positionen schlie√üen)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Klicke <span class="badge badge-primary">Stop</span> um:</p>
                        <ul>
                            <li>Alle offenen Positionen zu schlie√üen</li>
                            <li>Bot komplett zu stoppen</li>
                            <li>In Safe-State zu wechseln</li>
                        </ul>
                        <div class="alert alert-warning">
                            <strong>‚ö†Ô∏è Warnung:</strong> Stop schlie√üt alle Positionen zu Marktpreisen!
                        </div>
                    </div>
                </div>

                <h3>Paper vs. Live Trading</h3>
                <div class="card">
                    <div class="card-title">üß™ Paper Trading (Standard)</div>
                    <ul>
                        <li>‚úÖ Simuliert Trades ohne echtes Geld</li>
                        <li>‚úÖ Ideal zum Testen neuer Strategien</li>
                        <li>‚úÖ Volle Funktionalit√§t ohne Risiko</li>
                        <li>‚úÖ Automatisch aktiviert beim ersten Start</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üí∞ Live Trading</div>
                    <div class="alert alert-warning">
                        <strong>‚ö†Ô∏è ACHTUNG:</strong> Live Trading verwendet echtes Geld!
                    </div>
                    <p>Um Live Trading zu aktivieren:</p>
                    <ol>
                        <li>Gehe zu <strong>Einstellungen ‚Üí Trading</strong></li>
                        <li>Setze <code>TRADING_ENV=live</code></li>
                        <li>Konfiguriere Live-API-Keys</li>
                        <li>Best√§tige Risikohinweise</li>
                    </ol>
                    <p><strong>Empfohlene Vorbereitung:</strong></p>
                    <ul>
                        <li>Mindestens 2 Wochen erfolgreiche Paper-Trading-Tests</li>
                        <li>Win-Rate > 55% im Backtest</li>
                        <li>Profit-Factor > 1.5</li>
                        <li>Max-Drawdown < 15%</li>
                    </ul>
                </div>
            </section>

            <!-- Bot Monitoring -->
            <section id="bot-monitoring" class="section">
                <h2>üìä Monitoring & Logs</h2>

                <h3>Event-Log</h3>
                <p>Alle Bot-Aktivit√§ten werden in Echtzeit geloggt:</p>

                <div class="card">
                    <div class="card-title">Log-Typen</div>
                    <ul>
                        <li><span class="badge badge-success">INFO</span> Normale Operationen (z.B. Regime erkannt, Strategie gewechselt)</li>
                        <li><span class="badge badge-warning">WARNING</span> Warnungen (z.B. hohe Volatilit√§t, Slippage)</li>
                        <li><span class="badge badge-primary">TRADE</span> Trade-Ausf√ºhrungen (Entry/Exit)</li>
                        <li><span class="badge badge-primary">REGIME</span> Regime-√Ñnderungen</li>
                    </ul>
                </div>

                <h3>Notifications</h3>
                <p>Der Bot sendet Benachrichtigungen bei wichtigen Events:</p>
                <ul>
                    <li>üîî Regime-√Ñnderung mit neuem Strategiewechsel</li>
                    <li>üîî Trade-Ausf√ºhrung (Entry/Exit)</li>
                    <li>üîî Stop-Loss oder Take-Profit erreicht</li>
                    <li>üîî Fehler oder Warnungen</li>
                </ul>

                <h3>Performance-Metriken</h3>
                <div class="card">
                    <div class="card-title">Live-Statistiken</div>
                    <p>Im Bot-Panel werden kontinuierlich angezeigt:</p>
                    <ul>
                        <li><strong>Total P&L:</strong> Gesamtgewinn/-verlust</li>
                        <li><strong>Win Rate:</strong> Prozentsatz gewonnener Trades</li>
                        <li><strong>Total Trades:</strong> Anzahl ausgef√ºhrter Trades</li>
                        <li><strong>Average Return:</strong> Durchschnittlicher Return pro Trade</li>
                        <li><strong>Max Drawdown:</strong> Gr√∂√üter Verlust vom Peak</li>
                        <li><strong>Sharpe Ratio:</strong> Risiko-adjustierter Return</li>
                    </ul>
                </div>

                <h3>Trade-Historie</h3>
                <p>Alle Trades werden persistent gespeichert mit:</p>
                <ul>
                    <li>Entry/Exit Timestamp</li>
                    <li>Entry/Exit Price</li>
                    <li>Position Size</li>
                    <li>P&L (absolut und prozentual)</li>
                    <li>Strategie und Regime zum Entry-Zeitpunkt</li>
                    <li>Ausf√ºhrungsgrund (Signal-Type)</li>
                </ul>
            </section>

            <!-- Entry Analyzer Quickstart -->
            <section id="analyzer-quickstart" class="section">
                <h2>‚ö° Entry Analyzer - Quickstart</h2>

                <div class="alert alert-info">
                    <strong>üí° Was ist der Entry Analyzer?</strong><br>
                    Ein leistungsstarkes Tool zum Backtesten, Optimieren und Validieren von Trading-Strategien.
                </div>

                <div class="card">
                    <div class="card-title">5-Minuten Quick-Demo</div>

                    <div class="steps">
                        <div class="step">
                            <h4>Entry Analyzer √∂ffnen</h4>
                            <p>Klicke auf den <span class="badge badge-primary">üìä Entry Analyzer</span> Button in der Toolbar</p>
                        </div>

                        <div class="step">
                            <h4>JSON-Strategie laden</h4>
                            <p>Im "Backtest Setup" Tab:</p>
                            <ul>
                                <li>W√§hle JSON-Datei (z.B. <code>trend_following_conservative.json</code>)</li>
                                <li>Setze Date Range (z.B. letzten 6 Monate)</li>
                                <li>Initial Capital: 10,000 USD</li>
                            </ul>
                        </div>

                        <div class="step">
                            <h4>Backtest starten</h4>
                            <p>Klicke <span class="badge badge-success">‚ñ∂Ô∏è Run Backtest</span></p>
                            <p>Der Bot simuliert nun alle Trades basierend auf deiner Strategie √ºber den gew√§hlten Zeitraum.</p>
                        </div>

                        <div class="step">
                            <h4>Ergebnisse analysieren</h4>
                            <p>Wechsle zum "Backtest Results" Tab:</p>
                            <ul>
                                <li>üìä Performance-Metriken (Win Rate, Profit Factor, Sharpe Ratio)</li>
                                <li>üìà Equity Curve</li>
                                <li>üìã Trade-Liste mit Details</li>
                                <li>üéØ Regime-Visualisierung im Chart</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="alert alert-success">
                    <strong>‚úÖ N√§chste Schritte:</strong> Probiere die Indikator-Optimierung aus, um die beste Parameter-Kombination zu finden!
                </div>
            </section>

            <!-- Analyzer Backtest -->
            <section id="analyzer-backtest" class="section">
                <h2>üìà Backtesting</h2>

                <h3>Was ist Backtesting?</h3>
                <p>Backtesting simuliert deine Trading-Strategie mit historischen Daten, um die Performance zu bewerten ohne echtes Geld zu riskieren.</p>

                <div class="card">
                    <div class="card-title">Backtest-Workflow</div>
                    <ol>
                        <li><strong>Daten laden:</strong> Historische OHLCV-Daten f√ºr gew√§hltes Symbol und Zeitraum</li>
                        <li><strong>Indikatoren berechnen:</strong> Alle in JSON definierten Indikatoren</li>
                        <li><strong>Regimes evaluieren:</strong> Bestimme Marktregime f√ºr jeden Bar</li>
                        <li><strong>Entry/Exit-Signals:</strong> Pr√ºfe Conditions und generiere Trades</li>
                        <li><strong>Performance berechnen:</strong> P&L, Drawdown, Sharpe, etc.</li>
                    </ol>
                </div>

                <h3>Backtest-Einstellungen</h3>
                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Symbol & Zeitraum</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <ul>
                            <li><strong>Symbol:</strong> W√§hle Aktie oder Crypto (z.B. AAPL, BTCUSD)</li>
                            <li><strong>Start Date:</strong> Beginn des Backtest-Zeitraums</li>
                            <li><strong>End Date:</strong> Ende des Backtest-Zeitraums</li>
                        </ul>
                        <div class="alert alert-info">
                            <strong>üí° Empfehlung:</strong> Mindestens 3-6 Monate f√ºr aussagekr√§ftige Ergebnisse
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Initial Capital</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Startkapital f√ºr die Simulation (Standard: 10,000 USD)</p>
                        <p>Position Sizes werden als Prozentsatz des aktuellen Kapitals berechnet.</p>
                    </div>
                </div>

                <h3>Ergebnis-Interpretation</h3>
                <div class="card">
                    <div class="card-title">üìä Key Performance Indicators (KPIs)</div>
                    <ul>
                        <li><strong>Net Profit:</strong> Gesamtgewinn/-verlust absolut
                            <ul>
                                <li>‚úÖ Gut: > 15% des Initial Capital</li>
                                <li>‚ö†Ô∏è M√§√üig: 5-15%</li>
                                <li>‚ùå Schlecht: < 5%</li>
                            </ul>
                        </li>
                        <li><strong>Win Rate:</strong> Prozentsatz gewonnener Trades
                            <ul>
                                <li>‚úÖ Gut: > 55%</li>
                                <li>‚ö†Ô∏è M√§√üig: 45-55%</li>
                                <li>‚ùå Schlecht: < 45%</li>
                            </ul>
                        </li>
                        <li><strong>Profit Factor:</strong> Gewinn/Verlust-Ratio
                            <ul>
                                <li>‚úÖ Gut: > 1.5</li>
                                <li>‚ö†Ô∏è M√§√üig: 1.2-1.5</li>
                                <li>‚ùå Schlecht: < 1.2</li>
                            </ul>
                        </li>
                        <li><strong>Sharpe Ratio:</strong> Risiko-adjustierter Return
                            <ul>
                                <li>‚úÖ Gut: > 1.0</li>
                                <li>‚ö†Ô∏è M√§√üig: 0.5-1.0</li>
                                <li>‚ùå Schlecht: < 0.5</li>
                            </ul>
                        </li>
                        <li><strong>Max Drawdown:</strong> Gr√∂√üter Peak-to-Trough Verlust
                            <ul>
                                <li>‚úÖ Gut: < 10%</li>
                                <li>‚ö†Ô∏è M√§√üig: 10-20%</li>
                                <li>‚ùå Schlecht: > 20%</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <h3>Regime-Visualisierung</h3>
                <p>Nach dem Backtest werden Regime-√Ñnderungen im Chart visualisiert:</p>
                <ul>
                    <li><span style="color: #4caf50;">‚ñà</span> Gr√ºne Linie: TREND_UP</li>
                    <li><span style="color: #f44336;">‚ñà</span> Rote Linie: TREND_DOWN</li>
                    <li><span style="color: #ff9800;">‚ñà</span> Orange Linie: RANGE</li>
                    <li><span style="color: #9c27b0;">‚ñà</span> Lila Linie: VOLATILE</li>
                </ul>
            </section>

            <!-- Analyzer Optimization -->
            <section id="analyzer-optimization" class="section">
                <h2>üîß Indikator-Optimierung</h2>

                <div class="alert alert-info">
                    <strong>üéØ Ziel:</strong> Finde die optimale Parameter-Kombination f√ºr jeden Indikator in verschiedenen Marktregimes.
                </div>

                <h3>Optimization-Workflow</h3>
                <div class="steps">
                    <div class="step">
                        <h4>Indikatoren ausw√§hlen</h4>
                        <p>Im "Indicator Optimization" Tab:</p>
                        <ul>
                            <li>‚úÖ W√§hle Indikatoren (z.B. RSI, MACD, ADX)</li>
                            <li>üìä F√ºr jeden Indikator verf√ºgbar</li>
                        </ul>
                    </div>

                    <div class="step">
                        <h4>Parameter-Ranges definieren</h4>
                        <p>Setze Min/Max/Step f√ºr jeden Parameter:</p>
                        <div class="code-block">
                            <code>RSI Period: Min=10, Max=20, Step=2
‚Üí Testet: 10, 12, 14, 16, 18, 20 (6 Kombinationen)

MACD Fast: Min=8, Max=16, Step=2
‚Üí Testet: 8, 10, 12, 14, 16 (5 Kombinationen)

ADX Period: Min=10, Max=20, Step=2
‚Üí Testet: 10, 12, 14, 16, 18, 20 (6 Kombinationen)</code>
                        </div>
                        <p><strong>Total Kombinationen:</strong> 6 √ó 5 √ó 6 = 180 Backtests</p>
                    </div>

                    <div class="step">
                        <h4>Optimization starten</h4>
                        <p>Klicke <span class="badge badge-success">üöÄ Optimize Indicators</span></p>
                        <p>Der Thread f√ºhrt nun alle Backtests im Hintergrund aus:</p>
                        <ul>
                            <li>‚è±Ô∏è Progress-Bar zeigt Fortschritt</li>
                            <li>üìä UI bleibt responsive</li>
                            <li>‚ö° Parallelisierung f√ºr schnellere Ausf√ºhrung (optional)</li>
                        </ul>
                    </div>

                    <div class="step">
                        <h4>Ergebnisse analysieren</h4>
                        <p>Nach Abschluss zeigt die Tabelle:</p>
                        <ul>
                            <li><strong>Indicator:</strong> z.B. RSI</li>
                            <li><strong>Parameters:</strong> z.B. {'period': 14}</li>
                            <li><strong>Regime:</strong> z.B. TREND_UP</li>
                            <li><strong>Score (0-100):</strong> Composite-Score basierend auf Win Rate, Profit Factor, Avg Return</li>
                            <li><strong>Win Rate:</strong> z.B. 65%</li>
                            <li><strong>Profit Factor:</strong> z.B. 2.3</li>
                        </ul>
                    </div>
                </div>

                <h3>Scoring-Algorithmus</h3>
                <p>Der Composite-Score (0-100) wird berechnet aus:</p>
                <div class="code-block">
                    <code>Score = (Win_Rate √ó 50) +
       (Profit_Factor / 3 √ó 30) +
       (Normalized_Avg_Return √ó 20)

Beispiel:
Win_Rate = 0.65 ‚Üí 32.5 Punkte
Profit_Factor = 2.4 ‚Üí 24 Punkte
Avg_Return = 5% (normiert) ‚Üí 10 Punkte
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Total Score = 66.5 / 100</code>
                </div>

                <div class="card">
                    <div class="card-title">Score-Interpretation</div>
                    <ul>
                        <li><span class="badge badge-success">80-100</span> Exzellent - Produktionsreif</li>
                        <li><span class="badge badge-success">70-79</span> Sehr gut - Empfohlen</li>
                        <li><span class="badge badge-warning">60-69</span> Gut - Mit Vorsicht verwenden</li>
                        <li><span class="badge badge-warning">50-59</span> Durchschnitt - Weitere Tests n√∂tig</li>
                        <li><span class="badge badge-primary">< 50</span> Schwach - Nicht empfohlen</li>
                    </ul>
                </div>

                <h3>Best Practices</h3>
                <ul>
                    <li>‚úÖ Teste √ºber verschiedene Zeitr√§ume (3-6-12 Monate)</li>
                    <li>‚úÖ Validiere Ergebnisse mit Walk-Forward-Analyse</li>
                    <li>‚úÖ Ber√ºcksichtige alle Regimes (nicht nur Trends)</li>
                    <li>‚ö†Ô∏è Vorsicht vor Overfitting (zu eng gefittete Parameter)</li>
                    <li>‚ö†Ô∏è Mehr Kombinationen = l√§ngere Laufzeit (nutze vern√ºnftige Ranges)</li>
                </ul>
            </section>

            <!-- Analyzer Regime Sets -->
            <section id="analyzer-regime-sets" class="section">
                <h2>üì¶ Regime Sets erstellen</h2>

                <div class="alert alert-info">
                    <strong>üí° Konzept:</strong> Kombiniere die besten Indikatoren f√ºr jedes Regime in einem optimierten Strategie-Set.
                </div>

                <h3>Von Optimization zu Regime Set</h3>
                <div class="steps">
                    <div class="step">
                        <h4>Optimization durchf√ºhren</h4>
                        <p>F√ºhre zun√§chst die Indikator-Optimierung durch (siehe vorheriger Abschnitt)</p>
                    </div>

                    <div class="step">
                        <h4>"Create Regime Set" klicken</h4>
                        <p>Nach Abschluss der Optimization:</p>
                        <p>Klicke <span class="badge badge-primary">üì¶ Create Regime Set from Results</span></p>
                    </div>

                    <div class="step">
                        <h4>Automatische Gruppierung</h4>
                        <p>Der Builder:</p>
                        <ul>
                            <li>Gruppiert Ergebnisse nach Regime</li>
                            <li>W√§hlt Top 3 Indikatoren pro Regime (basierend auf Score)</li>
                            <li>Berechnet Gewichte (normalisierte Scores)</li>
                            <li>Generiert vollst√§ndige JSON-Config</li>
                        </ul>
                    </div>

                    <div class="step">
                        <h4>JSON-Config speichern</h4>
                        <p>Der generierte Regime Set wird als JSON-Datei gespeichert:</p>
                        <div class="code-block">
                            <code>03_JSON/Trading_Bot/regime_set_[timestamp].json</code>
                        </div>
                    </div>

                    <div class="step">
                        <h4>Backtest des Regime Sets</h4>
                        <p>Optional: Teste das komplette Regime Set mit:</p>
                        <p><span class="badge badge-success">‚ñ∂Ô∏è Backtest Regime Set</span></p>
                        <p>Vergleiche die Performance mit einzelnen Indikatoren!</p>
                    </div>
                </div>

                <h3>Regime Set Struktur</h3>
                <p>Ein generiertes Regime Set enth√§lt:</p>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Indicators (Top 3 pro Regime)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="code-block">
                            <code>"indicators": [
  {"id": "ind_1_rsi", "type": "RSI", "params": {"period": 14}},
  {"id": "ind_2_macd", "type": "MACD", "params": {"fast": 12, ...}},
  {"id": "ind_3_adx", "type": "ADX", "params": {"period": 14}},
  ...
]</code>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Regimes (Auto-generiert)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="code-block">
                            <code>"regimes": [
  {
    "id": "regime_trend_up",
    "name": "TREND_UP",
    "conditions": {
      "type": "group",
      "operator": "and",
      "conditions": [
        {"indicator": "adx", "operator": "gt", "value": 25},
        {"indicator": "close", "operator": "gt", "indicator_ref": "sma_200"}
      ]
    }
  }
]</code>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Strategies (Eine pro Regime)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <div class="code-block">
                            <code>"strategies": [
  {
    "id": "strategy_1_trend_up",
    "name": "TREND_UP Strategy",
    "entry_conditions": {...},  // Basierend auf Top-Indikatoren
    "exit_conditions": {...},
    "risk": {...}
  }
]</code>
                        </div>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Weights (Score-basiert)</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Gewichte werden aus Scores berechnet:</p>
                        <div class="code-block">
                            <code>Beispiel TREND_UP:
RSI(14): Score 85.5 ‚Üí Weight 0.36 (36%)
MACD(12,26,9): Score 78.3 ‚Üí Weight 0.33 (33%)
ADX(14): Score 72.1 ‚Üí Weight 0.31 (31%)
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Total: 1.0 (100%)</code>
                        </div>
                    </div>
                </div>

                <h3>Vorteile von Regime Sets</h3>
                <ul>
                    <li>‚úÖ <strong>Adaptive Performance:</strong> Beste Indikatoren f√ºr jedes Regime</li>
                    <li>‚úÖ <strong>Automatische Optimierung:</strong> Kein manuelles Trial-and-Error</li>
                    <li>‚úÖ <strong>Gewichtete Signale:</strong> St√§rkere Indikatoren haben mehr Einfluss</li>
                    <li>‚úÖ <strong>Produktionsreif:</strong> Direkt im Trading Bot verwendbar</li>
                    <li>‚úÖ <strong>Backtesting validiert:</strong> Performance auf historischen Daten gepr√ºft</li>
                </ul>
            </section>

            <!-- Analyzer Pattern Recognition -->
            <section id="analyzer-pattern" class="section">
                <h2>üîç Mustererkennung</h2>

                <div class="alert alert-info">
                    <strong>üí° Pattern Recognition:</strong> Vergleiche aktuelle Chart-Situationen mit historischen Mustern und finde √§hnliche Setups.
                </div>

                <h3>Wie funktioniert's?</h3>
                <p>Das System verwendet Vector-basierte Pattern-Matching mit HNSW-Indexierung:</p>

                <div class="steps">
                    <div class="step">
                        <h4>Pattern-Extraktion</h4>
                        <p>Aus der aktuellen Chart-Situation werden Features extrahiert:</p>
                        <ul>
                            <li>Indikatorwerte (RSI, MACD, ADX, etc.)</li>
                            <li>Preisbewegungen (Close, High, Low)</li>
                            <li>Volumen-Profile</li>
                            <li>Regime-Information</li>
                        </ul>
                    </div>

                    <div class="step">
                        <h4>Vector-Embedding</h4>
                        <p>Features werden in 384-dimensionale Vektoren umgewandelt</p>
                    </div>

                    <div class="step">
                        <h4>Similarity Search</h4>
                        <p>HNSW-Index findet √§hnlichste historische Patterns in <strong>&lt;50ms</strong></p>
                    </div>

                    <div class="step">
                        <h4>Outcome-Analyse</h4>
                        <p>F√ºr jedes gefundene Pattern wird analysiert:</p>
                        <ul>
                            <li>Was passierte danach? (Kursanstieg/-abfall)</li>
                            <li>Welche Strategie war erfolgreich?</li>
                            <li>Risiko-Metriken (Max DD, Win Rate)</li>
                        </ul>
                    </div>
                </div>

                <h3>Pattern Recognition verwenden</h3>
                <div class="card">
                    <div class="card-title">Im Entry Analyzer</div>
                    <ol>
                        <li>Wechsle zum "Pattern Recognition" Tab</li>
                        <li>Stelle Similarity Threshold ein (0.7-0.95 empfohlen)</li>
                        <li>Klicke <span class="badge badge-primary">üîç Find Similar Patterns</span></li>
                        <li>Analysiere die Top 10 √§hnlichsten Setups</li>
                        <li>Klicke auf ein Pattern f√ºr Details und Side-by-Side-Vergleich</li>
                    </ol>
                </div>

                <h3>Pattern-Details</h3>
                <p>F√ºr jedes gefundene Pattern siehst du:</p>
                <ul>
                    <li><strong>Similarity Score:</strong> 0-100% (wie √§hnlich)</li>
                    <li><strong>Timestamp:</strong> Wann trat das Pattern historisch auf</li>
                    <li><strong>Outcome:</strong> Was passierte danach (z.B. +5.2% in 3 Tagen)</li>
                    <li><strong>Regime:</strong> Marktregime zum damaligen Zeitpunkt</li>
                    <li><strong>Strategy:</strong> Welche Strategie war erfolgreich</li>
                    <li><strong>Risk Metrics:</strong> Win Rate, Profit Factor, Max DD</li>
                </ul>

                <h3>Best Practices</h3>
                <div class="alert alert-warning">
                    <strong>‚ö†Ô∏è Wichtig:</strong> Pattern Recognition ist ein unterst√ºtzendes Tool, keine Garantie f√ºr zuk√ºnftige Performance!
                </div>
                <ul>
                    <li>‚úÖ Verwende hohe Similarity Thresholds (>0.85) f√ºr verl√§sslichere Matches</li>
                    <li>‚úÖ Betrachte mehrere √§hnliche Patterns, nicht nur das Top-Match</li>
                    <li>‚úÖ Kombiniere mit technischer Analyse und Fundamentaldaten</li>
                    <li>‚ö†Ô∏è Beachte unterschiedliche Marktbedingungen (Volatilit√§t, News, Events)</li>
                </ul>
            </section>

            <!-- Analyzer Results -->
            <section id="analyzer-results" class="section">
                <h2>üìä Ergebnisse & Reports</h2>

                <h3>Backtest Results Tab</h3>
                <p>Nach jedem Backtest werden detaillierte Ergebnisse angezeigt:</p>

                <div class="card">
                    <div class="card-title">üìà Performance Summary</div>
                    <ul>
                        <li><strong>Net Profit:</strong> Absoluter Gewinn/Verlust</li>
                        <li><strong>Return %:</strong> Prozentuale Performance</li>
                        <li><strong>Total Trades:</strong> Anzahl Trades</li>
                        <li><strong>Win Rate:</strong> % gewonnener Trades</li>
                        <li><strong>Profit Factor:</strong> Gewinn/Verlust-Ratio</li>
                        <li><strong>Sharpe Ratio:</strong> Risiko-adjustierter Return</li>
                        <li><strong>Max Drawdown:</strong> Gr√∂√üter Verlust vom Peak</li>
                        <li><strong>Avg Trade Return:</strong> Durchschnitt pro Trade</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üìã Trade List</div>
                    <p>Alle Trades in einer scrollbaren Tabelle:</p>
                    <ul>
                        <li>Entry/Exit Timestamp</li>
                        <li>Entry/Exit Price</li>
                        <li>Position Size</li>
                        <li>P&L ($ und %)</li>
                        <li>Regime beim Entry</li>
                        <li>Strategy verwendet</li>
                        <li>Ausf√ºhrungsgrund (Signal Type)</li>
                    </ul>
                </div>

                <h3>Equity Curve</h3>
                <p>Visueller Graph der Account-Balance √ºber Zeit:</p>
                <ul>
                    <li>Zeigt Kapitalwachstum/-verlust</li>
                    <li>Markiert Drawdown-Perioden</li>
                    <li>Overlay mit Regime-√Ñnderungen</li>
                </ul>

                <h3>Regime Distribution</h3>
                <div class="card">
                    <div class="card-title">Regime-Verteilung im Backtest</div>
                    <p>Zeigt, wie viel Zeit in jedem Regime verbracht wurde:</p>
                    <ul>
                        <li>TREND_UP: z.B. 35%</li>
                        <li>TREND_DOWN: z.B. 25%</li>
                        <li>RANGE: z.B. 30%</li>
                        <li>VOLATILE: z.B. 10%</li>
                    </ul>
                    <p>Hilft zu verstehen, f√ºr welche Marktbedingungen die Strategie optimiert ist.</p>
                </div>

                <h3>Report generieren</h3>
                <p>Klicke <span class="badge badge-primary">üìÑ Generate Report</span> um einen umfassenden PDF/HTML-Report zu erstellen mit:</p>
                <ul>
                    <li>Alle Performance-Metriken</li>
                    <li>Charts und Visualisierungen</li>
                    <li>Trade-Liste (gefiltert)</li>
                    <li>Regime-Analyse</li>
                    <li>Optimierungs-Empfehlungen</li>
                    <li>Risk-Assessment</li>
                </ul>

                <h3>Ergebnisse im Chart visualisieren</h3>
                <p>Klicke <span class="badge badge-success">üìç Draw on Chart</span> um:</p>
                <ul>
                    <li>Entry-Points als Pfeile im Chart zu zeichnen</li>
                    <li>Exit-Points zu markieren</li>
                    <li>Regime-Grenzen als vertikale Linien anzuzeigen</li>
                    <li>P&L-Labels an jedem Trade</li>
                </ul>
            </section>

            <!-- Strategy Concept Section -->
            <section id="strategy-concept-overview" class="section">
                <h2 class="section-title">üìä Strategy Concept √úbersicht</h2>

                <div class="card">
                    <p><strong>Strategy Concept</strong> ist ein leistungsstarkes Fenster zur pattern-basierten Strategieentwicklung. Es kombiniert Mustererkennung mit bew√§hrten Trading-Strategien.</p>

                    <h3>üéØ Hauptfunktionen</h3>
                    <ul>
                        <li><strong>Pattern Recognition (Tab 1):</strong> Erkenne Chartmuster im aktuellen Chart</li>
                        <li><strong>Pattern Integration (Tab 2):</strong> Ordne erkannte Muster zu bew√§hrten Strategien zu</li>
                        <li><strong>Strategy Mapping:</strong> 50+ Pattern-Strategy-Kombinationen verf√ºgbar</li>
                        <li><strong>Historical Analysis:</strong> Finde √§hnliche Muster in der Vergangenheit</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üöÄ Fenster √∂ffnen</div>
                    <p><strong>Aus Chart-Fenster:</strong></p>
                    <ol>
                        <li>√ñffne Chart f√ºr gew√ºnschtes Symbol</li>
                        <li>Klicke auf Men√º ‚Üí <code>Analysis</code> ‚Üí <code>Strategy Concept</code></li>
                        <li>Fenster √∂ffnet sich als eigenst√§ndiges Fenster</li>
                    </ol>
                    <div class="badge-container">
                        <span class="badge badge-info">Tipp:</span>
                        <span style="color: var(--text-secondary);">Fenster kann mit Maximize/Minimize-Buttons gesteuert werden</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">üí° Typischer Workflow</div>
                    <ol>
                        <li>Pattern Recognition: Analysiere aktuellen Chart</li>
                        <li>Review Results: Pr√ºfe gefundene Muster und Historical Matches</li>
                        <li>Pattern Integration: W√§hle passendes Pattern aus der Bibliothek</li>
                        <li>Strategy Details: Studiere Entry/Exit-Regeln und Success Rate</li>
                        <li>Apply to Bot: Wende Strategie auf Trading Bot an (optional)</li>
                    </ol>
                </div>
            </section>

            <!-- Pattern Recognition Tab -->
            <section id="strategy-concept-pattern-recognition" class="section">
                <h2 class="section-title">üîç Pattern Recognition (Tab 1)</h2>

                <div class="card">
                    <div class="card-title">‚öôÔ∏è Analysis Settings</div>
                    <p><strong>Parameter:</strong></p>
                    <ul>
                        <li><strong>Window Size:</strong> Wird automatisch auf sichtbaren Chart-Bereich gesetzt</li>
                        <li><strong>Similarity Threshold:</strong> 0.50-0.99 (empfohlen: 0.80)</li>
                        <li><strong>Min Matches:</strong> Mindestanzahl √§hnlicher Muster (Standard: 10)</li>
                        <li><strong>Signal Direction:</strong> LONG oder SHORT</li>
                        <li><strong>Cross-Symbol Search:</strong> Suche auch in anderen Symbolen</li>
                    </ul>

                    <div class="badge-container">
                        <span class="badge badge-warning">Wichtig:</span>
                        <span style="color: var(--text-secondary);">Window Size wird erst beim Klick auf "Analyze Patterns" aus dem aktuellen Chart-Fenster √ºbernommen</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">üéØ Pattern-Analyse durchf√ºhren</div>
                    <ol>
                        <li>√ñffne Chart-Fenster f√ºr gew√ºnschtes Symbol</li>
                        <li>Navigiere im Chart zum interessanten Bereich (Zoom/Pan)</li>
                        <li>√ñffne Strategy Concept Fenster</li>
                        <li>W√§hle Tab "Pattern Recognition"</li>
                        <li>Passe Settings an (Similarity, Direction, etc.)</li>
                        <li>Klicke auf <strong>"üîç Analyze Patterns"</strong></li>
                        <li>System analysiert sichtbaren Chart-Bereich und sucht √§hnliche Muster</li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">üìä Ergebnisse interpretieren</div>

                    <h4>Analysis Results</h4>
                    <ul>
                        <li><strong>Matches Found:</strong> Anzahl √§hnlicher Muster gefunden</li>
                        <li><strong>Win Rate:</strong> Prozentsatz profitabler Matches (>60% ist gut)</li>
                        <li><strong>Avg Return:</strong> Durchschnittlicher Return aller Matches</li>
                        <li><strong>Confidence:</strong> Konfidenz der Analyse (0-100%)</li>
                        <li><strong>Avg Similarity:</strong> Durchschnittliche √Ñhnlichkeit (0.00-1.00)</li>
                        <li><strong>Recommendation:</strong>
                            <ul>
                                <li><span style="color: var(--success);">STRONG BUY</span> - >80% Win Rate, >3% Avg Return</li>
                                <li><span style="color: var(--success);">BUY</span> - >60% Win Rate, >1% Avg Return</li>
                                <li><span style="color: var(--warning);">NEUTRAL</span> - ~50% Win Rate</li>
                                <li><span style="color: var(--error);">AVOID</span> - <40% Win Rate</li>
                                <li><span style="color: var(--error);">STRONG AVOID</span> - <30% Win Rate, negative Return</li>
                            </ul>
                        </li>
                    </ul>

                    <h4>Similar Patterns Table</h4>
                    <p>Zeigt historische Matches mit folgenden Daten:</p>
                    <ul>
                        <li><strong>Symbol:</strong> Wo das Muster auftrat</li>
                        <li><strong>Timeframe:</strong> Zeitrahmen (1h, 4h, 1d, etc.)</li>
                        <li><strong>Date:</strong> Wann das Muster auftrat</li>
                        <li><strong>Similarity:</strong> √Ñhnlichkeit zum aktuellen Muster (0.000-1.000)</li>
                        <li><strong>Trend:</strong> Trendrichtung damals (UP/DOWN/RANGE)</li>
                        <li><strong>Profitable:</strong> ‚úì oder ‚úó</li>
                        <li><strong>Return %:</strong> Tats√§chlicher Return</li>
                        <li><strong>Outcome:</strong> <span style="color: var(--success);">PROFIT</span> oder <span style="color: var(--error);">LOSS</span></li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üé¨ Action Buttons</div>
                    <ul>
                        <li><strong>üìç Draw on Chart:</strong> Zeichne erkannte Muster im Chart (Coming Soon)</li>
                        <li><strong>üóëÔ∏è Clear:</strong> L√∂sche alle Ergebnisse</li>
                        <li><strong>üíæ Export Patterns:</strong> Exportiere Ergebnisse als JSON/CSV (Coming Soon)</li>
                    </ul>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <span>‚ö° Tipps f√ºr beste Ergebnisse</span>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <ul>
                            <li><strong>Window Size:</strong> Verwende 20-50 Bars f√ºr kurzfristige Muster, 50-100 f√ºr l√§ngerfristige</li>
                            <li><strong>Similarity Threshold:</strong> Start mit 0.80, dann schrittweise senken falls zu wenig Matches</li>
                            <li><strong>Cross-Symbol:</strong> Aktiviere f√ºr mehr Daten, aber beachte Symbol-spezifische Eigenheiten</li>
                            <li><strong>Min Matches:</strong> Mindestens 10 f√ºr statistische Signifikanz, 20-30 ist besser</li>
                            <li><strong>Chart-Bereich:</strong> W√§hle klare Setup-Bereiche (z.B. vor einem Breakout)</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Pattern Integration Tab -->
            <section id="strategy-concept-integration" class="section">
                <h2 class="section-title">üéØ Pattern Integration (Tab 2)</h2>

                <div class="card">
                    <div class="card-title">üìö Pattern-Strategy Library</div>
                    <p>Tab 2 enth√§lt eine kuratierte Bibliothek von 50+ Pattern-Strategy-Mappings basierend auf bew√§hrten Trading-Strategien.</p>

                    <h3>Pattern-Kategorien</h3>
                    <ul>
                        <li><strong style="color: #5c9eff;">REVERSAL</strong> - Umkehrmuster (Doppel-Tops/Bottoms, Head & Shoulders)</li>
                        <li><strong style="color: #26a69a;">CONTINUATION</strong> - Fortsetzungsmuster (Flags, Pennants)</li>
                        <li><strong style="color: #4fc3f7;">SMART_MONEY</strong> - Smart-Money-Konzepte (FVG, Order Blocks)</li>
                        <li><strong style="color: #ba68c8;">BREAKOUT</strong> - Breakout-Muster (Triangle, Rectangle)</li>
                        <li><strong style="color: #ffd54f;">HARMONIC</strong> - Harmonic Patterns (Gartley, Butterfly)</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üîç Pattern ausw√§hlen</div>
                    <ol>
                        <li>W√§hle Tab "Pattern Integration"</li>
                        <li>Nutze <strong>Filter by Category</strong> Dropdown (optional)</li>
                        <li>Browse die Pattern-Tabelle:
                            <ul>
                                <li><strong>Pattern Name:</strong> z.B. "Double Bottom Reversal"</li>
                                <li><strong>Category:</strong> Farb-codiert nach Kategorie</li>
                                <li><strong>Success Rate:</strong> Historische Erfolgsrate (z.B. 92.5%)</li>
                                <li><strong>Strategy Type:</strong> Empfohlene Strategy (Trend-Following, Mean-Reversion, etc.)</li>
                                <li><strong>Avg Profit:</strong> Durchschnittlicher erwarteter Profit</li>
                                <li><strong>Phase:</strong> Implementierungs-Phase (derzeit nur Phase 1 verf√ºgbar)</li>
                            </ul>
                        </li>
                        <li>Klicke auf eine Zeile um Pattern auszuw√§hlen</li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">üìñ Strategy Details</div>
                    <p>Beim Ausw√§hlen eines Patterns werden detaillierte Informationen angezeigt:</p>

                    <h4>Allgemeine Info</h4>
                    <ul>
                        <li>Pattern Name und Kategorie</li>
                        <li>Success Rate (farbig hervorgehoben)</li>
                        <li>Strategy Type</li>
                        <li>Average Profit</li>
                        <li>Risk-Reward Ratio (z.B. "1:2" oder "1:3")</li>
                    </ul>

                    <h4>Best Practices</h4>
                    <p>Liste von bew√§hrten Praktiken f√ºr dieses Pattern, z.B.:</p>
                    <ul>
                        <li>"Trade auf Retest des Neckline-Breakouts"</li>
                        <li>"Warte auf Volume-Confirmation"</li>
                        <li>"Nutze Higher-Timeframe Trend als Filter"</li>
                    </ul>

                    <h4>Entry/Exit Rules</h4>
                    <ul>
                        <li><strong>Stop Loss Placement:</strong> z.B. "Unterhalb des rechten Schultertiefs"</li>
                        <li><strong>Target Calculation:</strong> z.B. "H√∂he des Patterns von Breakout-Level gemessen"</li>
                        <li><strong>Volume Confirmation:</strong> Falls erforderlich ‚úì</li>
                        <li><strong>RSI Condition:</strong> Falls vorhanden (z.B. "RSI < 30 bei Reversal")</li>
                        <li><strong>MACD Confirmation:</strong> Falls erforderlich ‚úì</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üìê Trade Setup Preview</div>
                    <p>Zeigt ein Beispiel-Setup basierend auf den Pattern-Regeln:</p>
                    <ul>
                        <li><strong>Entry Price:</strong> Wo einsteigen (z.B. "Breakout confirmation level")</li>
                        <li><strong>Stop Loss:</strong> Basierend auf Pattern-Geometrie</li>
                        <li><strong>Target Price:</strong> Berechnung des Profit-Targets</li>
                        <li><strong>Risk-Reward:</strong> Erwartetes Chance-Risiko-Verh√§ltnis</li>
                        <li><strong>Expected Success:</strong> Historische Success Rate</li>
                    </ul>

                    <div class="badge-container">
                        <span class="badge badge-info">Hinweis:</span>
                        <span style="color: var(--text-secondary);">Dies ist ein Template - tats√§chliche Levels erfordern Pattern-Geometrie-Analyse</span>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">üé¨ Action Buttons</div>
                    <ul>
                        <li><strong>‚úì Apply Strategy:</strong> Wende ausgew√§hlte Strategy an (Coming: Phase 6 Bot Integration)</li>
                        <li><strong>üíæ Export to CEL:</strong> Exportiere als CEL-Rules (Coming: Phase 4)</li>
                    </ul>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <span>üéØ Pattern-Beispiele</span>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <h4>Reversal Patterns (Umkehr)</h4>
                        <ul>
                            <li><strong>Double Bottom:</strong> 92.5% Success, Mean-Reversion</li>
                            <li><strong>Double Top:</strong> 91.8% Success, Mean-Reversion</li>
                            <li><strong>Head and Shoulders:</strong> 89.7% Success, Trend-Reversal</li>
                        </ul>

                        <h4>Continuation Patterns (Fortsetzung)</h4>
                        <ul>
                            <li><strong>Bull Flag:</strong> 88.5% Success, Trend-Following</li>
                            <li><strong>Bear Flag:</strong> 87.9% Success, Trend-Following</li>
                            <li><strong>Ascending Triangle:</strong> 90.2% Success, Breakout</li>
                        </ul>

                        <h4>Smart Money Concepts</h4>
                        <ul>
                            <li><strong>Fair Value Gap (FVG):</strong> 85.3% Success, Smart-Money</li>
                            <li><strong>Order Block:</strong> 87.1% Success, Smart-Money</li>
                            <li><strong>Breaker Block:</strong> 84.8% Success, Smart-Money</li>
                        </ul>

                        <h4>Harmonic Patterns</h4>
                        <ul>
                            <li><strong>Gartley:</strong> 88.9% Success, Harmonic Trading</li>
                            <li><strong>Butterfly:</strong> 87.5% Success, Harmonic Trading</li>
                            <li><strong>Bat:</strong> 86.7% Success, Harmonic Trading</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Workflow Section -->
            <section id="strategy-concept-workflow" class="section">
                <h2 class="section-title">‚ö° Strategy Concept Workflow</h2>

                <div class="card">
                    <div class="card-title">üéØ Kompletter Workflow</div>

                    <h3>Schritt 1: Chart vorbereiten</h3>
                    <ol>
                        <li>√ñffne Chart f√ºr gew√ºnschtes Symbol</li>
                        <li>W√§hle Timeframe (1h, 4h, 1d, etc.)</li>
                        <li>Navigiere zu interessantem Setup-Bereich</li>
                        <li>Stelle sicher, dass genug Bars sichtbar sind (20-100)</li>
                    </ol>

                    <h3>Schritt 2: Pattern Recognition</h3>
                    <ol>
                        <li>√ñffne Strategy Concept Fenster</li>
                        <li>W√§hle Tab "Pattern Recognition"</li>
                        <li>Passe Similarity Threshold an (0.75-0.85 f√ºr Start)</li>
                        <li>W√§hle Signal Direction (LONG/SHORT)</li>
                        <li>Klicke "Analyze Patterns"</li>
                        <li>Warte auf Ergebnisse (5-30 Sekunden)</li>
                    </ol>

                    <h3>Schritt 3: Ergebnisse pr√ºfen</h3>
                    <ol>
                        <li>Pr√ºfe Win Rate (>60% ist gut)</li>
                        <li>Pr√ºfe Avg Return (>1% ist gut)</li>
                        <li>Pr√ºfe Recommendation (STRONG BUY/BUY = positiv)</li>
                        <li>Schaue in Similar Patterns Table:
                            <ul>
                                <li>Welche Symbole hatten √§hnliche Setups?</li>
                                <li>Wie oft war das Muster profitabel?</li>
                                <li>Wie hoch waren die Returns?</li>
                            </ul>
                        </li>
                    </ol>

                    <h3>Schritt 4: Pattern Integration nutzen</h3>
                    <ol>
                        <li>Wechsle zu Tab "Pattern Integration"</li>
                        <li>Filtere nach passender Kategorie (z.B. REVERSAL)</li>
                        <li>W√§hle Pattern mit hoher Success Rate</li>
                        <li>Studiere Strategy Details:
                            <ul>
                                <li>Best Practices lesen</li>
                                <li>Entry/Exit Rules verstehen</li>
                                <li>Trade Setup Preview pr√ºfen</li>
                            </ul>
                        </li>
                    </ol>

                    <h3>Schritt 5: Strategy anwenden (Optional)</h3>
                    <ol>
                        <li>Klicke "Apply to Bot" f√ºr Bot-Integration (Coming: Phase 6)</li>
                        <li>ODER: Nutze Informationen f√ºr manuelles Trading</li>
                        <li>ODER: Exportiere zu CEL f√ºr weitere Verarbeitung (Coming: Phase 4)</li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">üí° Best Practices</div>
                    <ul>
                        <li><strong>Kombiniere beide Tabs:</strong> Nutze Tab 1 f√ºr aktuelle Situation, Tab 2 f√ºr strategische Planung</li>
                        <li><strong>Mehrere Timeframes:</strong> Pr√ºfe Pattern auf verschiedenen Timeframes f√ºr Best√§tigung</li>
                        <li><strong>Volume beachten:</strong> Hohe Success Rates erfordern oft Volume-Confirmation</li>
                        <li><strong>Risk Management:</strong> Nutze Risk-Reward Ratios aus Strategy Details</li>
                        <li><strong>Backtesting:</strong> Teste Strategy mit Entry Analyzer Backtest-Tab vor Live-Handel</li>
                        <li><strong>Pattern-Qualit√§t:</strong> Achte auf Similarity Score bei Historical Matches (>0.80 ist gut)</li>
                        <li><strong>Markt-Kontext:</strong> Ber√ºcksichtige aktuelle Markt-Regime (Trend/Range)</li>
                    </ul>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <span>‚ö†Ô∏è H√§ufige Fehler vermeiden</span>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <ul>
                            <li><strong>‚ùå Zu hohe Similarity Threshold:</strong> Senke auf 0.75-0.80 f√ºr mehr Matches</li>
                            <li><strong>‚ùå Zu wenig Historical Data:</strong> F√ºlle Pattern-DB durch Backtests</li>
                            <li><strong>‚ùå Falscher Chart-Bereich:</strong> W√§hle klare Setup-Bereiche, nicht mitten im Trend</li>
                            <li><strong>‚ùå Success Rate ignorieren:</strong> Patterns mit <60% Win Rate sind riskant</li>
                            <li><strong>‚ùå Risk-Reward ignorieren:</strong> Auch bei hoher Win Rate braucht es gutes R:R</li>
                            <li><strong>‚ùå Blind vertrauen:</strong> Strategy Details sind Guidelines, keine Garantien</li>
                            <li><strong>‚ùå Einzelnes Signal:</strong> Kombiniere mit anderen Analysen (Entry Analyzer, Indikatoren)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <div class="card-title">üîó Integration mit anderen Tools</div>
                    <h4>Entry Analyzer</h4>
                    <ul>
                        <li>Nutze Entry Analyzer f√ºr detailliertes Backtesting der ausgew√§hlten Pattern-Strategies</li>
                        <li>Indicator Optimization: Finde beste Indikatoren f√ºr erkannte Patterns</li>
                        <li>Regime Sets: Kombiniere Patterns mit Regime-basiertem Indikatorenset</li>
                    </ul>

                    <h4>Trading Bot</h4>
                    <ul>
                        <li>"Apply to Bot" Button (Coming: Phase 6) wendet Strategy direkt im Bot an</li>
                        <li>Bot nutzt Pattern Entry/Exit Rules f√ºr automatisches Trading</li>
                        <li>Strategy-spezifische Risk-Reward Settings werden √ºbernommen</li>
                    </ul>

                    <h4>Chart Window</h4>
                    <ul>
                        <li>"Draw on Chart" Button (Coming: Phase 5) zeichnet erkannte Patterns im Chart</li>
                        <li>Visualisierung von Entry/Exit/Stop-Levels</li>
                        <li>Pattern-Annotationen f√ºr besseres Verst√§ndnis</li>
                    </ul>
                </div>
            </section>

            <!-- FAQ -->
            <section id="faq" class="section">
                <h2>‚ùì H√§ufig gestellte Fragen (FAQ)</h2>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Wie erstelle ich meine erste Strategie?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p><strong>Empfohlener Weg f√ºr Anf√§nger:</strong></p>
                        <ol>
                            <li>Kopiere eine bestehende JSON-Strategie (z.B. <code>trend_following_conservative.json</code>)</li>
                            <li>Benenne sie um (z.B. <code>my_first_strategy.json</code>)</li>
                            <li>√Ñndere einzelne Parameter (z.B. RSI Period von 14 auf 12)</li>
                            <li>Teste im Entry Analyzer mit Backtest</li>
                            <li>Iteriere basierend auf Ergebnissen</li>
                        </ol>
                        <p><strong>Fortgeschritten:</strong> Nutze Indikator-Optimierung um beste Parameter zu finden, dann Regime Set Builder.</p>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Wie lange dauert ein Backtest?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Abh√§ngig von:</p>
                        <ul>
                            <li><strong>Zeitraum:</strong> 3 Monate ‚âà 10-20 Sekunden, 1 Jahr ‚âà 30-60 Sekunden</li>
                            <li><strong>Anzahl Indikatoren:</strong> Mehr Indikatoren = l√§ngere Berechnung</li>
                            <li><strong>Timeframe:</strong> 1m = viele Bars = l√§nger als 1h</li>
                        </ul>
                        <p><strong>Optimization:</strong> 100+ Parameter-Kombinationen k√∂nnen 5-15 Minuten dauern.</p>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Was ist der Unterschied zwischen Paper und Live Trading?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p><strong>Paper Trading:</strong></p>
                        <ul>
                            <li>‚úÖ Simuliert Trades mit echten Marktdaten</li>
                            <li>‚úÖ Kein echtes Geld beteiligt</li>
                            <li>‚úÖ Ideal zum Testen und Lernen</li>
                            <li>‚úÖ Standardm√§√üig aktiviert</li>
                        </ul>
                        <p><strong>Live Trading:</strong></p>
                        <ul>
                            <li>üí∞ Verwendet echtes Geld</li>
                            <li>‚ö†Ô∏è Muss explizit in Settings aktiviert werden</li>
                            <li>‚ö†Ô∏è Nur nach erfolgreichen Paper-Tests empfohlen</li>
                            <li>‚ö†Ô∏è Nicht r√ºckg√§ngig machbar!</li>
                        </ul>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Wie interpretiere ich die Performance-Metriken?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p>Siehe "Backtest Results" Sektion f√ºr detaillierte KPI-Erkl√§rungen.</p>
                        <p><strong>Quick Reference:</strong></p>
                        <ul>
                            <li><strong>Win Rate > 55%:</strong> Gut</li>
                            <li><strong>Profit Factor > 1.5:</strong> Profitabel</li>
                            <li><strong>Sharpe Ratio > 1.0:</strong> Gutes Risiko/Ertrag-Verh√§ltnis</li>
                            <li><strong>Max Drawdown < 15%:</strong> Akzeptables Risiko</li>
                        </ul>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Kann ich mehrere Bots gleichzeitig laufen lassen?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p><strong>Aktuell:</strong> Nein, nur ein Bot pro Instanz.</p>
                        <p><strong>Workaround:</strong> √ñffne mehrere OrderPilot-AI Instanzen (verschiedene Ports/Configs).</p>
                        <p><strong>Geplant:</strong> Multi-Bot-Support in zuk√ºnftiger Version.</p>
                    </div>
                </div>

                <div class="collapsible">
                    <div class="collapsible-header" onclick="toggleCollapsible(this)">
                        <h4>Was mache ich bei einem Bot-Fehler?</h4>
                        <span class="collapsible-icon">‚ñº</span>
                    </div>
                    <div class="collapsible-content">
                        <p><strong>Sofort-Ma√ünahmen:</strong></p>
                        <ol>
                            <li>Klicke <span class="badge badge-primary">Stop Bot</span> um alle Positionen zu schlie√üen</li>
                            <li>Pr√ºfe Event-Log f√ºr Fehlerdetails</li>
                            <li>√úberpr√ºfe JSON-Config auf Syntaxfehler</li>
                        </ol>
                        <p><strong>Troubleshooting:</strong></p>
                        <ul>
                            <li>Validiere JSON mit <code>ConfigLoader</code></li>
                            <li>Teste Strategie im Entry Analyzer Backtest</li>
                            <li>Pr√ºfe API-Verbindung (Alpaca Status)</li>
                            <li>Siehe "Troubleshooting" Sektion</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Troubleshooting -->
            <section id="troubleshooting" class="section">
                <h2>üîß Troubleshooting</h2>

                <div class="card">
                    <div class="card-title">‚ùå Bot startet nicht</div>
                    <p><strong>M√∂gliche Ursachen:</strong></p>
                    <ul>
                        <li><strong>JSON-Syntax-Fehler:</strong> Validiere JSON mit Online-Validator oder <code>ConfigLoader</code></li>
                        <li><strong>Fehlende Indikatoren:</strong> Pr√ºfe, ob alle referenzierten Indikatoren definiert sind</li>
                        <li><strong>API-Keys ung√ºltig:</strong> Pr√ºfe Alpaca API-Keys in Settings</li>
                        <li><strong>Netzwerkfehler:</strong> Pr√ºfe Internetverbindung zu Alpaca</li>
                    </ul>
                    <p><strong>L√∂sung:</strong></p>
                    <ol>
                        <li>Pr√ºfe Event-Log f√ºr detaillierte Fehlermeldung</li>
                        <li>Validiere JSON-Config im Entry Analyzer</li>
                        <li>Teste mit einfacher Default-Config</li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">‚ö†Ô∏è Bot f√ºhrt keine Trades aus</div>
                    <p><strong>M√∂gliche Ursachen:</strong></p>
                    <ul>
                        <li><strong>Keine Entry-Signals:</strong> Conditions nicht erf√ºllt</li>
                        <li><strong>Falsches Regime:</strong> Bot wartet auf passendes Marktregime</li>
                        <li><strong>Risk-Limits erreicht:</strong> Max Positions oder Max Daily Loss</li>
                    </ul>
                    <p><strong>L√∂sung:</strong></p>
                    <ol>
                        <li>Pr√ºfe aktuelles Regime im Bot-Panel</li>
                        <li>√úberpr√ºfe Entry-Conditions im Event-Log</li>
                        <li>Teste Entry-Conditions mit Entry Analyzer "Visible Range Analysis"</li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">üìä Backtest schl√§gt fehl</div>
                    <p><strong>M√∂gliche Ursachen:</strong></p>
                    <ul>
                        <li><strong>Keine historischen Daten:</strong> Symbol oder Zeitraum nicht verf√ºgbar</li>
                        <li><strong>JSON-Schema-Fehler:</strong> Config nicht valide</li>
                        <li><strong>Memory-Fehler:</strong> Zu gro√üer Zeitraum oder zu viele Kombinationen</li>
                    </ul>
                    <p><strong>L√∂sung:</strong></p>
                    <ol>
                        <li>Pr√ºfe ob Symbol valide ist (z.B. AAPL, nicht aapl)</li>
                        <li>Reduziere Zeitraum (z.B. 3 Monate statt 3 Jahre)</li>
                        <li>Validiere JSON mit <code>ConfigLoader.load_config()</code></li>
                    </ol>
                </div>

                <div class="card">
                    <div class="card-title">üîß Indikator-Optimization dauert zu lange</div>
                    <p><strong>Ursache:</strong> Zu viele Parameter-Kombinationen</p>
                    <p><strong>L√∂sung:</strong></p>
                    <ul>
                        <li>Reduziere Parameter-Ranges (z.B. Step von 1 auf 2)</li>
                        <li>W√§hle weniger Indikatoren aus</li>
                        <li>Verk√ºrze Backtest-Zeitraum</li>
                        <li>Nutze <strong>Cancel</strong> Button zum Abbrechen</li>
                    </ul>
                    <p><strong>Geschwindigkeit-Tipps:</strong></p>
                    <ul>
                        <li>10 Kombinationen ‚âà 2 Minuten</li>
                        <li>100 Kombinationen ‚âà 15-20 Minuten</li>
                        <li>1000+ Kombinationen ‚âà mehrere Stunden (nicht empfohlen)</li>
                    </ul>
                </div>

                <div class="card">
                    <div class="card-title">üéØ Pattern Recognition findet keine Matches</div>
                    <p><strong>M√∂gliche Ursachen:</strong></p>
                    <ul>
                        <li><strong>Similarity Threshold zu hoch:</strong> Senke auf 0.75-0.80</li>
                        <li><strong>Zu wenig historische Daten:</strong> Pattern-DB noch nicht gef√ºllt</li>
                        <li><strong>Einzigartige Situation:</strong> Aktuelles Setup noch nie gesehen</li>
                    </ul>
                    <p><strong>L√∂sung:</strong></p>
                    <ol>
                        <li>Senke Similarity Threshold schrittweise</li>
                        <li>F√ºhre mehr Backtests aus um Pattern-DB zu f√ºllen</li>
                        <li>Pr√ºfe ob genug historische Daten vorhanden sind</li>
                    </ol>
                </div>

                <h3>Log-Dateien</h3>
                <p>Alle Operationen werden geloggt in:</p>
                <div class="code-block">
                    <code>logs/orderpilot-ai.log
logs/bot-trades.log
logs/backtest-results.log</code>
                </div>
                <p>Bei Support-Anfragen bitte relevante Log-Eintr√§ge mitschicken!</p>

                <h3>Support kontaktieren</h3>
                <p>Bei ungel√∂sten Problemen:</p>
                <ul>
                    <li>üìß Email: support@orderpilot-ai.com</li>
                    <li>üí¨ GitHub Issues: <a href="https://github.com/your-repo/issues" style="color: var(--orange-primary);">GitHub</a></li>
                    <li>üìñ Dokumentation: <a href="https://docs.orderpilot-ai.com" style="color: var(--orange-primary);">docs.orderpilot-ai.com</a></li>
                </ul>
            </section>
        </main>
    </div>

    <script>
        // Navigation
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();

                // Remove active class from all links and sections
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));

                // Add active class to clicked link
                link.classList.add('active');

                // Show corresponding section
                const targetId = link.getAttribute('href').substring(1);
                document.getElementById(targetId).classList.add('active');

                // Scroll to top of content
                document.querySelector('.content').scrollTop = 0;
            });
        });

        // Search functionality
        const searchInput = document.getElementById('searchInput');
        searchInput.addEventListener('input', (e) => {
            const query = e.target.value.toLowerCase();

            if (query.length < 2) {
                // Reset search
                document.querySelectorAll('.section').forEach(section => {
                    section.style.display = section.classList.contains('active') ? 'block' : 'none';
                });
                return;
            }

            // Search through all sections
            document.querySelectorAll('.section').forEach(section => {
                const text = section.textContent.toLowerCase();
                if (text.includes(query)) {
                    section.style.display = 'block';

                    // Highlight matching text (simple implementation)
                    // In production, use a proper highlighting library
                } else {
                    section.style.display = 'none';
                }
            });
        });

        // Collapsible sections
        function toggleCollapsible(header) {
            const collapsible = header.parentElement;
            collapsible.classList.toggle('open');
        }

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                if (href !== '#') {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({ behavior: 'smooth' });
                    }
                }
            });
        });

        // Keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            // Ctrl/Cmd + K for search focus
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                searchInput.focus();
            }

            // Escape to clear search
            if (e.key === 'Escape' && document.activeElement === searchInput) {
                searchInput.value = '';
                searchInput.dispatchEvent(new Event('input'));
            }
        });

        // Add tooltips for badges (optional enhancement)
        document.querySelectorAll('.badge').forEach(badge => {
            badge.title = badge.textContent;
        });

        console.log('OrderPilot-AI Help System loaded successfully! üöÄ');
    </script>
</body>
</html>
