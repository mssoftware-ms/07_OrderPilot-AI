# Opening Range Breakout (ORB) Strategy
#
# Time-based breakout strategy for market opens (e.g., US Equity Open).
#
# Logic:
# - Define Range: High/Low of first X minutes (e.g., 5m, 15m, 30m)
# - Entry: Breakout of this range
# - Filter: Volume, VWAP
#
# Note: This YAML assumes the engine supports time-based conditions or 'session' logic.

name: "Opening Range Breakout"
version: "1.0.0"
category: "Breakout"
author: "OrderPilot-AI"
description: |
  Trades the breakout of the opening range (first 5-30 mins of session).
  Highly effective for Nasdaq (NQ) and volatile Crypto opens.

asset_class: crypto
recommended_symbols: ["NQ", "BTC/USD"] # BTC often moves at US Open
recommended_timeframes: ["1m", "5m"]

indicators:
  - type: VWAP
    alias: vwap
    source: close
    plot: true

  - type: ATR
    alias: atr
    params: { period: 14 }
    plot: true

  # Custom logic placeholder for High/Low of ORB
  # In a real implementation, these would be state variables managed by the strategy class
  # Here we mock them for config structure
  # - type: SESSION_HIGH_LOW
  #   params: { start_time: "09:30", end_time: "09:45" } # NY Time

entry_long:
  type: composite
  operator: AND
  conditions:
    # Time condition (Pseudo-code for config)
    # - type: time_condition
    #   operator: ">="
    #   time: "09:45"

    # Price Breakout
    # - type: condition
    #   left: close
    #   operator: ">"
    #   right: "session.high"

    # VWAP Confirmation
    - type: condition
      left: close
      operator: ">"
      right: vwap
      description: "Price above VWAP"

entry_short:
  type: composite
  operator: AND
  conditions:
    # - type: condition
    #   left: close
    #   operator: "<"
    #   right: "session.low"

    - type: condition
      left: close
      operator: "<"
      right: vwap
      description: "Price below VWAP"

risk_management:
  stop_loss_atr_multiplier: 1.0 # Tight stop (e.g. other side of candle or mid-range)
  take_profit_atr_multiplier: 3.0
  max_trades_per_day: 2 # Limit to first moves

backtest:
  initial_capital: 10000
