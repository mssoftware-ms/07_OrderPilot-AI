{
  "schema_version": "2.1.0",
  "indicators": [
    {
      "id": "momentum_score",
      "type": "MOMENTUM_SCORE",
      "params": {
        "sma_fast": 20,
        "sma_slow": 50,
        "use_price_distance": true
      }
    },
    {
      "id": "volume_ratio",
      "type": "VOLUME_RATIO",
      "params": {
        "period": 20,
        "smoothing": false
      }
    },
    {
      "id": "price_strength",
      "type": "PRICE_STRENGTH",
      "params": {
        "sma_fast": 20,
        "sma_slow": 50,
        "volume_period": 20,
        "rsi_period": 14,
        "bb_period": 20,
        "bb_std": 2.0,
        "volume_weight": 0.3,
        "rsi_weight": 0.2,
        "bb_weight": 0.15
      }
    },
    {
      "id": "rsi14",
      "type": "RSI",
      "params": {
        "period": 14
      }
    },
    {
      "id": "atr14",
      "type": "ATR",
      "params": {
        "period": 14
      }
    },
    {
      "id": "bb20",
      "type": "BB",
      "params": {
        "period": 20,
        "std": 2.0
      }
    },
    {
      "id": "chop14",
      "type": "CHOP",
      "params": {
        "period": 14
      }
    }
  ],
  "regimes": [
    {
      "id": "extreme_downtrend",
      "name": "Extreme Downtrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": -4.0
            }
          },
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 2.0
            }
          }
        ]
      },
      "priority": 100,
      "scope": "entry"
    },
    {
      "id": "strong_downtrend",
      "name": "Strong Downtrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": -4.0,
              "max": -2.0
            }
          },
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": -2.0
            }
          }
        ]
      },
      "priority": 80,
      "scope": "entry"
    },
    {
      "id": "moderate_downtrend",
      "name": "Moderate Downtrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": -2.0,
              "max": -0.5
            }
          },
          {
            "left": {
              "indicator_id": "rsi14",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": 50.0
            }
          }
        ]
      },
      "priority": 60,
      "scope": "entry"
    },
    {
      "id": "extreme_uptrend",
      "name": "Extreme Uptrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 4.0
            }
          },
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 2.0
            }
          }
        ]
      },
      "priority": 100,
      "scope": "entry"
    },
    {
      "id": "strong_uptrend",
      "name": "Strong Uptrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": 2.0,
              "max": 4.0
            }
          },
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 2.0
            }
          }
        ]
      },
      "priority": 80,
      "scope": "entry"
    },
    {
      "id": "moderate_uptrend",
      "name": "Moderate Uptrend",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": 0.5,
              "max": 2.0
            }
          },
          {
            "left": {
              "indicator_id": "rsi14",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 50.0
            }
          }
        ]
      },
      "priority": 60,
      "scope": "entry"
    },
    {
      "id": "range_bound",
      "name": "Range-Bound Market",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": -0.5,
              "max": 0.5
            }
          },
          {
            "left": {
              "indicator_id": "chop14",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 61.8
            }
          },
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": 1.2
            }
          }
        ]
      },
      "priority": 50,
      "scope": "entry"
    },
    {
      "id": "high_volatility",
      "name": "High Volatility",
      "conditions": {
        "any": [
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 2.5
            }
          },
          {
            "left": {
              "indicator_id": "bb20",
              "field": "width"
            },
            "op": "gt",
            "right": {
              "value": 0.15
            }
          }
        ]
      },
      "priority": 70,
      "scope": "entry"
    },
    {
      "id": "low_volatility",
      "name": "Low Volatility",
      "conditions": {
        "all": [
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": 0.8
            }
          },
          {
            "left": {
              "indicator_id": "bb20",
              "field": "width"
            },
            "op": "lt",
            "right": {
              "value": 0.05
            }
          }
        ]
      },
      "priority": 40,
      "scope": "entry"
    }
  ],
  "strategies": [
    {
      "id": "momentum_extreme_short",
      "name": "Extreme Momentum Short",
      "entry": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": -4.0
            }
          }
        ]
      },
      "exit": {
        "any": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": -1.0
            }
          }
        ]
      },
      "risk": {
        "position_size": 0.03,
        "stop_loss_pct": 2.0,
        "take_profit_pct": 6.0
      }
    },
    {
      "id": "momentum_extreme_long",
      "name": "Extreme Momentum Long",
      "entry": {
        "all": [
          {
            "left": {
              "indicator_id": "price_strength",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 4.0
            }
          }
        ]
      },
      "exit": {
        "any": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": 1.0
            }
          }
        ]
      },
      "risk": {
        "position_size": 0.03,
        "stop_loss_pct": 2.0,
        "take_profit_pct": 6.0
      }
    },
    {
      "id": "trend_following_short",
      "name": "Trend Following Short",
      "entry": {
        "all": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": -2.0
            }
          },
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 1.2
            }
          }
        ]
      },
      "exit": {
        "any": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": -0.5
            }
          }
        ]
      },
      "risk": {
        "position_size": 0.025,
        "stop_loss_pct": 2.5,
        "take_profit_pct": 5.0
      }
    },
    {
      "id": "trend_following_long",
      "name": "Trend Following Long",
      "entry": {
        "all": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 2.0
            }
          },
          {
            "left": {
              "indicator_id": "volume_ratio",
              "field": "value"
            },
            "op": "gt",
            "right": {
              "value": 1.2
            }
          }
        ]
      },
      "exit": {
        "any": [
          {
            "left": {
              "indicator_id": "momentum_score",
              "field": "value"
            },
            "op": "lt",
            "right": {
              "value": 0.5
            }
          }
        ]
      },
      "risk": {
        "position_size": 0.025,
        "stop_loss_pct": 2.5,
        "take_profit_pct": 5.0
      }
    },
    {
      "id": "mean_reversion_range",
      "name": "Mean Reversion Range",
      "entry": {
        "any": [
          {
            "all": [
              {
                "left": {
                  "indicator_id": "rsi14",
                  "field": "value"
                },
                "op": "lt",
                "right": {
                  "value": 30.0
                }
              },
              {
                "left": {
                  "indicator_id": "bb20",
                  "field": "percent"
                },
                "op": "lt",
                "right": {
                  "value": 0.2
                }
              }
            ]
          },
          {
            "all": [
              {
                "left": {
                  "indicator_id": "rsi14",
                  "field": "value"
                },
                "op": "gt",
                "right": {
                  "value": 70.0
                }
              },
              {
                "left": {
                  "indicator_id": "bb20",
                  "field": "percent"
                },
                "op": "gt",
                "right": {
                  "value": 0.8
                }
              }
            ]
          }
        ]
      },
      "exit": {
        "all": [
          {
            "left": {
              "indicator_id": "rsi14",
              "field": "value"
            },
            "op": "between",
            "right": {
              "min": 45.0,
              "max": 55.0
            }
          }
        ]
      },
      "risk": {
        "position_size": 0.02,
        "stop_loss_pct": 3.0,
        "take_profit_pct": 4.0
      }
    }
  ],
  "strategy_sets": [
    {
      "id": "set_extreme_downtrend",
      "name": "Extreme Downtrend Set",
      "strategies": [
        {
          "strategy_id": "momentum_extreme_short"
        }
      ]
    },
    {
      "id": "set_strong_downtrend",
      "name": "Strong Downtrend Set",
      "strategies": [
        {
          "strategy_id": "trend_following_short"
        }
      ]
    },
    {
      "id": "set_extreme_uptrend",
      "name": "Extreme Uptrend Set",
      "strategies": [
        {
          "strategy_id": "momentum_extreme_long"
        }
      ]
    },
    {
      "id": "set_strong_uptrend",
      "name": "Strong Uptrend Set",
      "strategies": [
        {
          "strategy_id": "trend_following_long"
        }
      ]
    },
    {
      "id": "set_range_bound",
      "name": "Range-Bound Set",
      "strategies": [
        {
          "strategy_id": "mean_reversion_range"
        }
      ]
    }
  ],
  "routing": [
    {
      "strategy_set_id": "set_extreme_downtrend",
      "match": {
        "all_of": [
          "extreme_downtrend"
        ]
      }
    },
    {
      "strategy_set_id": "set_strong_downtrend",
      "match": {
        "all_of": [
          "strong_downtrend"
        ],
        "none_of": [
          "extreme_downtrend"
        ]
      }
    },
    {
      "strategy_set_id": "set_extreme_uptrend",
      "match": {
        "all_of": [
          "extreme_uptrend"
        ]
      }
    },
    {
      "strategy_set_id": "set_strong_uptrend",
      "match": {
        "all_of": [
          "strong_uptrend"
        ],
        "none_of": [
          "extreme_uptrend"
        ]
      }
    },
    {
      "strategy_set_id": "set_range_bound",
      "match": {
        "all_of": [
          "range_bound"
        ],
        "none_of": [
          "extreme_downtrend",
          "strong_downtrend",
          "extreme_uptrend",
          "strong_uptrend"
        ]
      }
    }
  ],
  "kind": "strategy_config"
}